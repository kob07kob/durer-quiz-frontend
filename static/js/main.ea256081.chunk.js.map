{"version":3,"sources":["constants.ts","basicElements/backend-calls.ts","basicElements/form/field.tsx","basicElements/main-box.tsx","basicElements/form/form.tsx","basicElements/mytext-input.tsx","basicElements/mybutton.tsx","basicElements/user-hooks/user-model.ts","basicElements/user-hooks/user-atom.ts","basicElements/user-hooks/user-hooks.ts","basicElements/result-page.tsx","basicElements/Excercise.tsx","basicElements/picture-component.tsx","basicElements/infos.tsx","basicElements/theme.ts","basicElements/layout.tsx","basicElements/login.tsx","basicElements/ott-login.tsx","Main.tsx","App.tsx","reportWebVitals.js","index.js"],"names":["serverUrl","auth","a","fetch","method","headers","result","ok","json","res","console","log","uuid","raw_obj","moment","starts_at","ends_at","category","name","sendEmail","email","body","JSON","stringify","status","HelperTextType","useStyles","makeStyles","theme","root","width","marginTop","overflow","breakpoints","down","paddingLeft","paddingRight","header","backgroundColor","palette","primary","main","padding","borderRadius","color","contrastText","contentDiv","secondary","mainTitle","fontSize","subTitle","MainBox","props","classes","className","children","Form","style","initialValues","validationSchema","onSubmit","values","setSubmitting","setTouched","LabelType","Field","React","useState","hasBlured","setHasBlured","field","meta","form","createElement","component","label","error","touched","helperText","placeholder","onChange","e","type","value","disabled","componentStyle","onBlur","otherProps","inlineInput","marginLeft","marginRight","height","aboveInput","fontWeight","MyTextInput","labelWhere","size","ref","Inline","display","flexFlow","alignItems","Above","TextField","variant","MyButton","Button","loading","onClick","event","CircularProgress","LOCAL_STORAGE_JWT_KEY","UserModel","userCache","token","localStorage","setItem","payload","decodeToken","this","decodedToken","getItem","getToken","isTokenExpired","categoryUuid","categoryName","removeItem","password","loginResult","errorMessage","text","access_token","saveToken","setUser","window","wasListenerAddedYet","previousValue","addEventListener","key","getCurrentUser","Date","getTime","exp","jwtDecode","currentUserAtom","atom","default","LoadUserOnClientSide","useRecoilState","useEffect","userModel","then","user","addListener","useAuthHeader","late","red","redInfo","grat","textAlign","table","borderCollapse","borderStyle","borderColor","borderWidth","minWidth","sum","empty","button","buttonContainer","firstry","scondtry","thirdtry","errortry","colorsContainer","flexWrap","tableContainer","ResultPage","submissions","setSubmissions","subMap","Map","i","length","element","get","exercise_uuid","submitted_at","isBefore","set","point","points_earned","lastTry","sequence","forEach","data","push","sort","b","isAfter","getSubmissions","subs","catch","err","teamName","map","idx","endsAt","setInfo","formDiv","maxWidth","paddingBottom","input","marginBottom","Excercise","enqueueSnackbar","useSnackbar","setLoading","exercise","sequence_number","points","max_points","order","category_ord","task","description","attachments","title","setData","refresh","setRefresh","timeLeftString","setTimeLeftString","timerStarted","setTimerStarted","triesForTask","setTriesForTask","counter","end","secs","diff","now","Math","floor","setInterval","completestring","dangerouslySetInnerHTML","__html","src","uri","alt","Divider","Yup","shape","integer","typeError","min","max","required","includes","guess","next","submission","guess_correct","tries","WebshopPicture","srcSet","process","picture","webPUrl","jpegOrPngUrl","minHeight","infoElement","position","zIndex","link","alignSelf","cursor","textDecoration","Infos","enabled","categoryStart","categoryEnd","enabledState","setEnabledState","logout","useLogout","checkDeadlines","start","enabled2","maxHeight","format","flex","teamInProgress","teamFinished","createMuiTheme","background","typography","fontFamily","join","xs","sm","md","lg","xl","bg","up","bgDiv","left","right","image","imageDiv","justifyContent","transform","itemDiv","magicBox","Layout","Fragment","ThemeProvider","CssBaseline","maxSnack","Container","Login","forgotPass","setForgotPass","login","loginErrors","useLogin","location","href","OneTimeTokenLogin","loginOtt","useLoginOtt","goToFront","Main","info","team","setTeam","setExercise","setCategory","URLSearchParams","useLocation","search","authHeader","useCurrentUser","getTeam","getCategory","cat","getCurrentExercise","exc","App","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ea256081.chunk.js","sourcesContent":["export const serverUrl = 'https://verseny.durerinfo.hu/api/v1';","import { serverUrl } from \"../constants\";\nimport { Category, Exercise, Submission, Team } from \"./backend-types\"\nimport { useAuthHeader } from \"./user-hooks/user-hooks\";\nimport moment from \"moment\"\n\nexport async function getCurrentExercise(auth: { Authorization: string }): Promise<Exercise | null> {\n    const result = await fetch(`${serverUrl}/exercise/current`, {\n        method: 'GET',\n        headers: { ...auth },\n    });\n    if (!result.ok) return null;\n    try {\n        const res = await result.json();\n        return res;\n    } catch (error) {\n        console.log(result);\n        return null;\n    }\n}\nexport async function getTeam(auth: { Authorization: string }): Promise<Team | null> {\n    const result = await fetch(`${serverUrl}/team/my`, {\n        method: 'GET',\n        headers: { ...auth },\n    });\n    if (!result.ok) return null;\n    return await result.json();\n}\nexport async function getSubmissions(auth: { Authorization: string }): Promise<Submission[] | null> {\n    const result = await fetch(`${serverUrl}/team/my/submissions`, {\n        method: 'GET',\n        headers: { ...auth },\n    });\n    if (!result.ok) return null;\n    return await result.json();\n}\nexport async function getCategory(auth: { Authorization: string }, uuid: string): Promise<Category | null> {\n    const result = await fetch(`${serverUrl}/category/${uuid}`, {\n        method: 'GET',\n        headers: { ...auth },\n    });\n    if (!result.ok) return null;\n    let raw_obj = await result.json();\n    return {'starts_at': moment(raw_obj.starts_at), 'ends_at': moment(raw_obj.ends_at), 'uuid': raw_obj.category, 'name': raw_obj.name}\n}\nexport async function sendEmail(email:string): Promise<string>{\n    try {\n        const result = await fetch(`${serverUrl}/login/team/send-ott`, {\n            method: 'POST', \n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n                email: email,\n            }),\n        });\n        if(result.ok) return \"\";\n        if(result.status === 420) return 'Túl sok próbálkozás!';\n        if(result.status === 403) return 'Tiltott művelet!'\n        else return 'A backenden még nem él az url';\n    } catch(e:any ){\n        console.log(e);\n        return 'Nem sikerült csatlakozni a szerverhez';\n    }\n\n}","import React, { CSSProperties } from 'react';\nimport { Field as FormikField } from 'formik';\n\nexport interface FieldProps {\n    name: string;\n    label?: string | any;\n    componentLabel?: string | any;\n    component: React.FunctionComponent<any>;\n    choices?: any[];\n    className?: string;\n    style?: CSSProperties;\n    componentStyle?: CSSProperties;\n    type?: string;\n    placeholder?: string;\n    labelColor?: 'primary' | 'secondary' | 'default';\n    onChange?: (e: React.ChangeEvent<any>) => void;\n    onBlur?: (e: any) => void;\n    value?: string;\n    helperTextType?: HelperTextType;\n    disabled?: boolean;\n    otherProps?: any;\n    setHasBlured?: () => void;\n}\n\nexport enum HelperTextType {\n    default, noBackground, floating,\n}\n\nexport const Field: React.FunctionComponent<FieldProps> = (props: FieldProps) => {\n    const [hasBlured, setHasBlured] = React.useState(false);\n    return <div className={props.className} style={props.style}>\n        <FormikField name={props.name}>\n            {({\n                  field,\n                  form,\n                  meta\n              }: any) => (\n                <div>\n                    {React.createElement(props.component, {\n                        name: props.name,\n                        label: props.label,\n                        error: (!!meta.touched || hasBlured) && !!meta.error,\n                        helperText: (!!meta.touched || hasBlured) && meta.error,\n                        placeholder: props.placeholder,\n                        onChange: (e: any) => {\n                            if (props.onChange) props.onChange(e);\n                            field.onChange(e);\n                        },\n                        type: props.type,\n                        value: field.value,\n                        disabled: props.disabled,\n                        style: props.componentStyle,\n                        onBlur: () => {\n                            if (!hasBlured)\n                                setHasBlured(true);\n                            if (typeof props.setHasBlured === 'function')\n                                props?.setHasBlured()\n                        },\n                        ...props.otherProps\n                    })}\n                </div>\n            )}\n        </FormikField>\n    </div>;\n};\n\nexport default Field;\n","import { makeStyles } from \"@material-ui/core\";\nimport React from \"react\";\n\nexport interface MyProps extends React.HTMLProps<any> {\n    mainTitle: string;\n    subTitle?: string;\n}\n\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        width: '100%',\n        marginTop: '-120px',\n        overflow: 'hidden',\n        [theme.breakpoints.down(1000)]: {\n            marginTop: '-5px',\n            paddingLeft: '7px',\n            paddingRight: '7px',\n        }\n    },\n    header: {\n        backgroundColor: theme.palette.primary.main,\n        padding: '30px 60px',\n        borderRadius: '30px 30px 0px 0px',\n        color: theme.palette.primary.contrastText,\n    },\n    contentDiv: {\n        backgroundColor: theme.palette.secondary.main,\n        padding: '30px 15px 0px 15px',\n        borderRadius: '0px 0px 30px 30px',\n        color: theme.palette.secondary.contrastText,\n    },\n    mainTitle: {\n        fontSize: '30px',\n    },\n    subTitle: {\n        fontSize: '20px',\n    }\n}));\n\nexport const MainBox: React.FunctionComponent<MyProps> = (props: MyProps) => {\n    const classes = useStyles();\n\n    return <div className={classes.root}>\n            <div className={classes.header}>\n                <div className={classes.mainTitle}>{props.mainTitle}</div>\n                <div className={classes.subTitle}>{props.subTitle}</div>\n            </div>\n            <div className={classes.contentDiv}>\n                {props.children}\n            </div>\n        </div>\n}","import React, { CSSProperties } from 'react';\n\nimport { Form as FormikForm, Formik, FormikValues } from 'formik';\n\nexport interface FormProps {\n    initialValues: any;\n    onSubmit: (values: FormikValues, setSubmitting: (arg0: boolean) => void) => void;\n    validationSchema?: any;\n\n    children: React.ReactNode | React.ReactNodeArray;\n\n    className?: string;\n    style?: CSSProperties;\n}\n\n\nconst Form: React.FunctionComponent<FormProps> = (props: FormProps) => {\n    return <div className={props.className} style={props.style}>\n        <Formik initialValues={props.initialValues}\n                validationSchema={props.validationSchema}\n                onSubmit={(values, { setSubmitting, setTouched }) => {\n                    props.onSubmit(values, setSubmitting);\n                }}>\n            <FormikForm>\n                {props.children}\n            </FormikForm>\n        </Formik>\n    </div>;\n};\n\nexport default Form;\n","import { makeStyles, TextField } from \"@material-ui/core\";\nimport React from \"react\";\n\nexport interface MyProps extends React.HTMLProps<any> {\n    labelWhere: LabelType;\n}\n\nexport enum LabelType{\n    Inline, Above\n}\n\n\nconst useStyles = makeStyles(theme => ({\n    inlineInput: {\n        width: '100%',\n        marginLeft: '15px',\n        marginRight: '15px',\n        '& .MuiOutlinedInput-root': {\n            height: '60px',\n            borderRadius: '34px'\n        }\n    },\n    aboveInput: {\n        width: '100%',\n        '& .MuiOutlinedInput-root': {\n            height: '40px',\n            borderRadius: '30px'\n        }\n    },\n    label: {\n        fontSize: '18px',\n        fontWeight: 'bold',\n    }\n}))\n\nexport const MyTextInput: React.FunctionComponent<MyProps> = (props: MyProps) => {\n    const classes = useStyles();\n    const inlineStyle = {display: 'flex', flexFlow: 'row', alignItems: 'center'}\n    const aboveStyle = {display: 'flex', flexFlow: 'column'}\n    const {labelWhere,label, color, size, ref,className, ...otherProps} = props;\n\n    return <div className={className} style={labelWhere===LabelType.Inline?inlineStyle:aboveStyle}>\n        <div style={labelWhere===LabelType.Above?{marginLeft: '30px'}:{}} className={classes.label}>{label}</div>\n        <TextField {...otherProps} variant='outlined' label='' className={labelWhere===LabelType.Inline?classes.inlineInput:classes.aboveInput}/>\n    </div>\n}","import { Button, makeStyles, CircularProgress } from \"@material-ui/core\";\nimport React from \"react\";\n\nexport interface MyProps{\n    label: string;\n    type: \"button\" | \"reset\" | \"submit\" | undefined;\n    loading?: boolean;\n    className?: string;\n    onClick?: (event:any)=>any;\n    disabled?: boolean;\n}\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        '&.MuiButton-contained': {\n            height: '60px',\n            borderRadius: '34px',\n            fontSize: '18px',\n        },\n        '&.MuiButton-contained.Mui-disabled': {\n            backgroundColor: '#e0e0e0',\n        }\n    },\n}))\n\nexport const MyButton: React.FunctionComponent<MyProps> = (props: MyProps) => {\n    const classes = useStyles();\n    return <Button disabled={!!props.disabled || props.loading} onClick={(event)=>{if(props.onClick) props.onClick(event)}}color='primary' className={`${classes.root} ${props.className}`} variant='contained' type={props.type}>\n        {props.loading ? <>{props.label}<CircularProgress size={30} style={{marginLeft: '20px'}}/></>  : props.label}\n    </Button>\n}","import jwtDecode from 'jwt-decode';\nimport { serverUrl } from '../../constants';\nimport { CurrentUser, JwtPayload } from './types';\n\nconst LOCAL_STORAGE_JWT_KEY = 'kjqAEKeFkMpOvOZrzcvp';\n\nexport class UserModel {\n\n    private userCache: { token: string, decodedToken: JwtPayload } | null= null;\n\n    private static isTokenExpired(decodeToken: any): boolean {\n        return new Date().getTime() / 1000 > decodeToken.exp;\n    }\n\n    private static decodeToken(token: string): JwtPayload {\n        return jwtDecode(token) as JwtPayload;\n    }\n\n    private async saveToken(token: string) {\n        localStorage.setItem(LOCAL_STORAGE_JWT_KEY, token);\n\n        const payload = UserModel.decodeToken(token);\n\n        this.userCache = {\n            token: token,\n            decodedToken: payload,\n        };\n    }\n\n    getToken(): string | null {\n        if (typeof localStorage === 'undefined') {\n            return null;\n        }\n\n        const token = localStorage.getItem(LOCAL_STORAGE_JWT_KEY);\n\n        if (!token) {\n            return null;\n        }\n\n        return token;\n    }\n\n    async getCurrentUser(): Promise<CurrentUser | null> {\n        const token = this.getToken();\n\n        if (!token) {\n            return null;\n        }\n\n        if (this.userCache) {\n            if (token === this.userCache.token && !UserModel.isTokenExpired(this.userCache.decodedToken)) {\n                return {\n                    email: this.userCache.decodedToken.email,\n                    categoryUuid: this.userCache.decodedToken.category.uuid,\n                    categoryName: this.userCache.decodedToken.category.name,\n                };\n            }\n\n            this.userCache = null;\n        }\n\n        const payload = UserModel.decodeToken(token);\n        if(UserModel.isTokenExpired(payload)){\n            return null;\n        }\n\n        /*if (UserModel.isTokenExpired(payload)) {\n            localStorage.removeItem(LOCAL_STORAGE_JWT_KEY);\n            return null;\n        }*/\n\n        this.userCache = {\n            token: token,\n            decodedToken: payload,\n        };\n\n        return {\n            email: payload.email,\n            categoryUuid: payload.category.uuid,\n            categoryName: payload.category.name,\n        };\n    }\n\n    isUserLoggedIn(): boolean {\n        const token = this.getToken();\n\n        if (!token) {\n            return false;\n        }\n\n        return !UserModel.isTokenExpired(token);\n    }\n\n    logout() {\n        this.userCache = null;\n        localStorage.removeItem(LOCAL_STORAGE_JWT_KEY);\n    }\n\n    async login(email: string, password: string): Promise<string|null> {\n        const loginResult = await fetch(`${serverUrl}/login/team`, {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n                method: 'email-password',\n                email: email,\n                password: password,\n            }),\n            \n        });\n        if (!loginResult.ok) {\n            const errorMessage = (await loginResult.json() as any)?.error;\n            return errorMessage==='Unauthorized'? 'Hibás email/jelszó': 'Valami hiba történt!';\n        }\n        const access_token =await loginResult.text();\n         //const access_token = 'eyJhbGciOiJSUzUxMiIsInR5cCI6IkpXVCJ9.eyJjYXRlZ29yeSI6eyJuYW1lIjoiT3ZvZGFzIGthdGVnb3JpYSIsInV1aWQiOiIxNTU1YjFlMy1mNzA2LTRkYjgtOTlhNC05ZDY4M2I0M2NlNDIifSwiZW1haWwiOiJ0b21pQGNzaWxsaW5nLmNvbSIsImV4cCI6MTYwNTE0NDI5NSwiaWF0IjoxNjA1MTM4ODk1LCJpc3MiOiJodHRwczovL3ZhbHRvLmR1cmVyaW5mby5odS8iLCJqdGkiOiJYRU1GaHQ5VWZlRlRTQ0lCOXBmZGp3IiwibmJmIjoxNjA1MTM4ODk1LCJzdWIiOiJiZDVhN2U4NS02ZDY5LTQ3MTgtYWZmZi1lNTAwNDk5ODJkMTIifQ.SM8pps10Z62WLgr3ar0fHsoH1OHwZiy5fYJVgLnZkJ4WoUOmE0_0lpr9sJdy9ifTi59xnjJjnAk4h-GH0BrCpdbuOF0dL5nAkWysFRnVWt6c0rHPL6ZCE_M87gnvrIzLBwN0kmqnpZ5vc0W8bXXccwNIU94siibFWBv9wDgllXdg8q7ZQek5wpu30BsCYHsr0VA8zSco8rGwJscfqimHt93qkrXzQ0vpvxplBYsQauIQINHNhkR9_xO0uZ3EX-PtHKh0moyCvsJfZ8Tjdf6MTZuNODCr5ejE_us5htw_4dcFDzgQUxv5hPsIyiqmQsbMXlsMFjPgJ68rnuW8S0kxD0bD8oPixb1AOg5SJvYl-OvdgsnbRfS3J0SlqthnRM867yWn0tNXFAR-MK8UmdzOxfjcyT36M0Wn4UL0juNRM-QEHVbFvA8byfhE3lodYLLvNOwusc_bh9db_Y3o-WdPOP278E1RpRuutgBwLhcA22ciCGhgEvxSdsKbNkbCSXLO3PVBHy4yu6pfcTOXZQekgwGno82u3tm1cPrsj8N6CuISayVNmV9F9iX6_ByyngEwpANT15o9OPrUz2tHJ6NWzxEnFjr39mV4xKt8Z-ONJ-smzhzTPxaVpWit5erP0xGXBBln6xE5GjQetNtpFYbNFSS-4SrU5FDNnOT8IinjUS0';//this.jwtService.sign(payload, { expiresIn: '1 days' });\n\n        //const { access_token } = ;//await loginResult.json();\n\n        await this.saveToken(access_token);\n\n        return null;\n    }\n\n    async loginOtt(email: string, token: string): Promise<string|null> {\n        const loginResult = await fetch(`${serverUrl}/login/team`, {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n                method: 'one-time-token',\n                email: email,\n                token: token,\n            }),\n            \n        });\n        if (!loginResult.ok) {\n            const errorMessage = (await loginResult.json() as any)?.error;\n            return errorMessage==='Unauthorized'? 'Hibás email': (errorMessage === 'Token not found'? 'Nem létező token':'Valami hiba történt!');\n        }\n        const access_token =await loginResult.text();\n         //const access_token = 'eyJhbGciOiJSUzUxMiIsInR5cCI6IkpXVCJ9.eyJjYXRlZ29yeSI6eyJuYW1lIjoiT3ZvZGFzIGthdGVnb3JpYSIsInV1aWQiOiIxNTU1YjFlMy1mNzA2LTRkYjgtOTlhNC05ZDY4M2I0M2NlNDIifSwiZW1haWwiOiJ0b21pQGNzaWxsaW5nLmNvbSIsImV4cCI6MTYwNTE0NDI5NSwiaWF0IjoxNjA1MTM4ODk1LCJpc3MiOiJodHRwczovL3ZhbHRvLmR1cmVyaW5mby5odS8iLCJqdGkiOiJYRU1GaHQ5VWZlRlRTQ0lCOXBmZGp3IiwibmJmIjoxNjA1MTM4ODk1LCJzdWIiOiJiZDVhN2U4NS02ZDY5LTQ3MTgtYWZmZi1lNTAwNDk5ODJkMTIifQ.SM8pps10Z62WLgr3ar0fHsoH1OHwZiy5fYJVgLnZkJ4WoUOmE0_0lpr9sJdy9ifTi59xnjJjnAk4h-GH0BrCpdbuOF0dL5nAkWysFRnVWt6c0rHPL6ZCE_M87gnvrIzLBwN0kmqnpZ5vc0W8bXXccwNIU94siibFWBv9wDgllXdg8q7ZQek5wpu30BsCYHsr0VA8zSco8rGwJscfqimHt93qkrXzQ0vpvxplBYsQauIQINHNhkR9_xO0uZ3EX-PtHKh0moyCvsJfZ8Tjdf6MTZuNODCr5ejE_us5htw_4dcFDzgQUxv5hPsIyiqmQsbMXlsMFjPgJ68rnuW8S0kxD0bD8oPixb1AOg5SJvYl-OvdgsnbRfS3J0SlqthnRM867yWn0tNXFAR-MK8UmdzOxfjcyT36M0Wn4UL0juNRM-QEHVbFvA8byfhE3lodYLLvNOwusc_bh9db_Y3o-WdPOP278E1RpRuutgBwLhcA22ciCGhgEvxSdsKbNkbCSXLO3PVBHy4yu6pfcTOXZQekgwGno82u3tm1cPrsj8N6CuISayVNmV9F9iX6_ByyngEwpANT15o9OPrUz2tHJ6NWzxEnFjr39mV4xKt8Z-ONJ-smzhzTPxaVpWit5erP0xGXBBln6xE5GjQetNtpFYbNFSS-4SrU5FDNnOT8IinjUS0';//this.jwtService.sign(payload, { expiresIn: '1 days' });\n\n        //const { access_token } = ;//await loginResult.json();\n\n        await this.saveToken(access_token);\n\n        return null;\n    }\n\n    private static wasListenerAddedYet = false;\n\n    addListener(setUser: (user: CurrentUser | null) => void) {\n        if (typeof window !== 'undefined' && !UserModel.wasListenerAddedYet) {\n            UserModel.wasListenerAddedYet = true;\n            let previousValue:CurrentUser | null = null;\n            window.addEventListener('storage', async event => {\n                if (event?.key !== LOCAL_STORAGE_JWT_KEY) {\n                    return;\n                }\n\n                const value = await this.getCurrentUser();\n\n                if (previousValue !== value) {\n                    setUser(value);\n                    previousValue = value;\n                }\n            });\n        }\n    }\n}\n\n","import { atom, useRecoilState } from 'recoil';\nimport { useEffect } from 'react';\nimport { UserModel } from './user-model';\nimport { CurrentUser } from './types';\n\nconst RECOIL_KEY_CURRENT_USER = 'current-user';\n\n// TODO User interface\nexport const currentUserAtom = atom<CurrentUser | null>({\n    key: RECOIL_KEY_CURRENT_USER,\n    default: null\n});\n\n// this component has no visuals, it only mutates the currentUser atom\nexport const LoadUserOnClientSide = () => {\n    const [user, setUser] = useRecoilState(currentUserAtom);\n\n    useEffect(() => {\n        if (typeof window === 'undefined') {\n            return;\n        }\n\n        const userModel = new UserModel();\n\n        userModel\n            .getCurrentUser()\n            .then(user => {\n                setUser(user);\n            });\n\n        userModel.addListener(setUser);\n    }, []);\n\n    return null;\n};\n","import { CurrentUser } from \"./types\";\nimport { UserModel } from \"./user-model\";\nimport { useRecoilState } from 'recoil';\nimport { currentUserAtom } from './user-atom';\n\nconst userModel = new UserModel();\n\nexport const useCurrentUser = (): CurrentUser|null => {\n    const [user, setUser] = useRecoilState(currentUserAtom);\n\n    return user;\n};\n\nexport const useLogin = () => {\n    const [user, setUser] = useRecoilState(currentUserAtom);\n\n    return async (email: string, password: string) => {\n        const loginErrors = await userModel.login(email, password);\n\n        if (!loginErrors) {\n            const user = await userModel.getCurrentUser();\n            setUser(user);\n        }\n\n        return loginErrors;\n    };\n};\n\nexport const useLoginOtt = () => {\n    const [user, setUser] = useRecoilState(currentUserAtom);\n\n    return async (email: string, token: string) => {\n        const loginErrors = await userModel.loginOtt(email, token);\n\n        if (!loginErrors) {\n            const user = await userModel.getCurrentUser();\n            setUser(user);\n        }\n\n        return loginErrors;\n    };\n};\n\nexport const useLogout = () => {\n    const [user, setUser] = useRecoilState(currentUserAtom);\n    return () => {\n        userModel.logout();\n        setUser(null);\n    };\n};\n\nexport const useAuthHeader = (): { Authorization: string } => {\n    // this is only here, to refresh the token, whenever the user changes\n    const [user, setUser] = useRecoilState(currentUserAtom);\n\n    const token = userModel.getToken();\n    return {\n        'Authorization': `Bearer ${token}`\n    };\n};","import { makeStyles } from \"@material-ui/core\";\nimport moment from \"moment\";\nimport React, { useEffect, useState } from \"react\";\nimport { getSubmissions } from \"./backend-calls\";\nimport { Submission } from \"./backend-types\";\nimport { MainBox } from \"./main-box\";\nimport { MyButton } from \"./mybutton\";\nimport { useAuthHeader } from \"./user-hooks/user-hooks\";\nconst useStyles = makeStyles(theme => ({\n    late: {\n        color: '#d50000',\n        fontSize: '11px',\n        [theme.breakpoints.down(1200)]:{\n            display: 'none',\n        }\n    },\n    red: {\n        color: '#d50000',\n    },\n    redInfo:{\n        display: 'none',\n        color: '#d50000',\n        fontSize: '11px',\n        [theme.breakpoints.down(1200)]:{\n            display: 'block',\n        }\n    },\n    grat: {\n        fontSize: '18px',\n        fontWeight: 'bold',\n        textAlign: 'center',\n    },\n    table: {\n        marginTop: '20px',\n        marginLeft:'10px',\n        borderCollapse: 'collapse',\n        fontSize: '18px',\n        ['& td']:{\n            borderStyle: 'solid',\n            borderColor: '#000',\n            borderWidth: '1px',\n            textAlign: 'center',\n            padding: '5px',\n            minWidth: '40px',\n            [theme.breakpoints.down(800)]:{\n                minWidth: '0px',\n                padding: '0px',\n            }\n        },\n        [theme.breakpoints.down(1200)]:{\n            width: '100%',\n            marginLeft:'0px',\n        },\n\n        [theme.breakpoints.down(800)]:{\n            fontSize: '11px',\n        }\n    },\n    sum: {\n        fontSize: '18px',\n        fontWeight: 'bold',\n        marginTop: '35px',\n        marginLeft: '55px',\n    },\n    empty: {\n        height: '25px',\n    },\n    button: {\n        marginTop: '10px',\n        width: '250px'\n    },\n    buttonContainer: {\n        width:'100%',\n        display: 'flex',\n        flexFlow: 'column',\n        alignItems: 'center',\n\n    },\n    firstry: {\n        backgroundColor: '#3fc523',\n    },\n    scondtry: {\n        backgroundColor: '#9beb53',\n    },\n    thirdtry: {\n        backgroundColor: '#d5eb42',\n    },\n    errortry: {\n        backgroundColor: '#ee5555',\n    },\n    colorsContainer:{\n        marginTop: '25px',\n        display: 'flex',\n        alignItems: 'center',\n        flexWrap: 'wrap',\n        ['& div']: {\n            width: '40px',\n            height: '40px',\n            marginRight: '7px',\n        },\n        ['& span']: {\n            marginRight: '25px'\n        }\n    },\n    tableContainer:{\n        display: 'flex',\n        flexFlow: 'column',\n        alignItems: 'center',\n    }\n}));\nexport interface Props {\n    endsAt: moment.Moment;\n    teamName: string;\n    setInfo: (val:boolean)=>any;\n}\n\nexport const ResultPage:React.FunctionComponent<Props> = (props:Props) => {\n    const classes = useStyles();\n    const [submissions, setSubmissions] = useState([] as Submission[]);\n    const subMap:Map<string, {point:number, submitted_at: string, lastTry: number}> = new Map();\n    for(let i = 0 ; i<submissions.length; i++){\n        const element = subMap.get(submissions[i].exercise_uuid);\n        if(!element) {\n            subMap.set(submissions[i].exercise_uuid, \n                {point: submissions[i].points_earned, submitted_at: submissions[i].submitted_at, lastTry: submissions[i].sequence});\n        } else {\n            if(moment(element.submitted_at).isBefore(moment(submissions[i].submitted_at))){\n                subMap.set(submissions[i].exercise_uuid,\n                     {point: submissions[i].points_earned, submitted_at: submissions[i].submitted_at, lastTry: submissions[i].sequence});\n            }\n        }\n    }\n    const table:{point:number, submitted_at: string, lastTry: number}[] = [];\n    let sum = 0;\n    subMap.forEach(data=>{\n        sum += data.point;\n        table.push(data);\n    });\n    table.sort((a,b)=>{\n        if(moment(a.submitted_at).isAfter(moment(b.submitted_at))) return 1;\n        return 0;\n    });\n    const auth = useAuthHeader();\n    useEffect(()=>{\n        getSubmissions(auth).then(subs=>{\n            if(subs != null){\n                setSubmissions(subs);\n            }\n        }).catch(err=>{\n            console.log(err);\n        });\n    }, [])\n    return <MainBox mainTitle={'Eredmények'} subTitle={props.teamName}>\n        <div className={classes.grat}>Gratulálunk a verseny befejezéséhez</div>\n        <div className={classes.tableContainer}>\n        <table className={classes.table}>\n            <tr>\n                <td>Feladat</td>\n                {table.map((data, idx)=><td className={moment(data.submitted_at).isAfter(props.endsAt)?classes.red:''}>\n                    {idx+1}.{moment(data.submitted_at).isAfter(props.endsAt)?<span className={classes.late}>Időn túli megoldás</span>:''}\n                </td>)}\n            </tr>\n            <tr>\n                <td>Pontszám</td>\n                {table.map((data, idx)=>{\n                    let className = classes.errortry;\n                    if(data.point>0){\n                        switch(data.lastTry){\n                            case 0: \n                                className = classes.firstry; break;\n                            case 1: \n                                className = classes.scondtry; break;\n                            case 2: \n                                className = classes.thirdtry; break;\n                        }\n                    }\n                return <td className={className}>\n                    {data.point}\n                </td>})}\n            </tr>\n        </table>\n        <div className={classes.redInfo}>\n             A piros sorszámmal jelölt feladatok időn túl lettek leadva\n        </div>\n        <div className={classes.colorsContainer}>\n            <div className={classes.firstry}></div>\n            <span>1. próbálkozás</span>\n            <div className={classes.scondtry}></div>\n            <span>2. próbálkozás</span>\n            <div className={classes.thirdtry}></div>\n            <span>3. próbálkozás</span>\n            <div className={classes.errortry}></div>\n            <span>hibás válasz</span>\n        </div>\n        </div>\n        <div className={classes.sum}>\n             Összpontszám: {sum}\n        </div>\n        <div className={classes.buttonContainer}>\n            <MyButton className={classes.button} type='button' label={'Szuper!'}  onClick={()=>{props.setInfo(true)}}/>\n        </div>\n        <div className={classes.empty}>\n        </div>\n    </MainBox>;\n}","import React, { useEffect, useState } from \"react\";\nimport { MainBox } from \"./main-box\";\n//import Latex from 'react-latex-next';\nimport { Divider, makeStyles } from '@material-ui/core';\nimport Form from './form/form';\nimport * as Yup from 'yup';\nimport Field from './form/field';\nimport { LabelType, MyTextInput } from \"./mytext-input\";\nimport { MyButton } from \"./mybutton\";\nimport { Exercise, Submission } from \"./backend-types\";\nimport { serverUrl } from \"../constants\";\nimport { useSnackbar } from \"notistack\";\nimport { ResultPage } from \"./result-page\";\nimport moment from \"moment\";\n\n\nexport interface MyProps {\n  exercise: Exercise;\n  auth: { Authorization: string };\n  endsAt: moment.Moment;\n  teamName: string;\n  setInfo: (val:boolean)=>any;\n}\n\nconst useStyles = makeStyles(theme => ({\n  formDiv: {\n    display: 'flex',\n    maxWidth: '700px',\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    flexWrap: 'wrap',\n    alignItems: 'center',\n    paddingBottom: '10px',\n  },\n  input: {\n    width: '50%',\n    [theme.breakpoints.down(650)]: {\n      marginBottom: '15px',\n      width: '100%',\n    }\n  },\n  button: {\n    width: '50%',\n    [theme.breakpoints.down(650)]: {\n      width: '100%',\n    }\n  }\n}))\n\nexport const Excercise: React.FunctionComponent<MyProps> = (props: MyProps) => {\n  const { enqueueSnackbar } = useSnackbar();\n  const classes = useStyles();\n  const [loading, setLoading] = useState(false);\n  const [data, setData] = useState({\n    sequence: props.exercise.sequence_number, points: props.exercise.max_points-props.exercise.sequence_number,\n    order: props.exercise.category_ord, task: props.exercise.description,\n    attachments: props.exercise.attachments, title: props.exercise.title,\n    exercise_uuid: props.exercise.uuid\n  });\n  const [refresh, setRefresh] = useState(false);\n  const [timeLeftString, setTimeLeftString] = useState('');\n  const [timerStarted, setTimerStarted] = useState(false);\n  const [triesForTask, setTriesForTask] = useState([] as number[]);\n\n  const counter = (end:moment.Moment)=> {\n    const secs = end.diff(moment.now(), \"seconds\")\n    setTimeLeftString(`${Math.floor(secs/60)} : ${secs%60}`);\n  }\n  useEffect(()=>{\n    if(!timerStarted&&props.endsAt){\n      setInterval(counter, 1000, props.endsAt);\n      setTimerStarted(true);\n    }\n  }, [props.endsAt])\n  const completestring = `<latex-js hyphenate=\"false\">${data.task}\n</latex-js>`;\n  if(!data.exercise_uuid){\n    return <ResultPage endsAt={props.endsAt} teamName={props.teamName} setInfo={props.setInfo}/>;\n  }\n  //const timeLeftString = props.endsAt.diff(moment.now(), \"seconds\");\n  return <MainBox mainTitle={`${data.order + 1}.feladat: ${data.title} ${props.endsAt.isAfter(moment.now())?`Hátralévő idő: ${timeLeftString}`:'Lejárt az idő'}`} subTitle={`${data.sequence + 1}. próba, ${data.points} pontért`}>\n    <div dangerouslySetInnerHTML={{ __html: completestring }} />\n    {data.attachments?.map(element => {\n      return <img src={element.uri} style={{maxWidth:'80%', display: 'flex', marginLeft:'auto', marginRight: 'auto'}} alt={'feladatKép (ha nem töltött be próbáld frissíteni az oldalt)'}/>;\n    })}\n    <Divider variant=\"middle\" style={{ marginTop: '10px', marginBottom: '10px' }} />\n    <Form initialValues={{ result: '' }} validationSchema={Yup.object().shape({\n      result: Yup.number().integer('Egész számot kell írni').typeError('Számot kell írnod').min(1, 'A válasz 1 és 9999 között van').max(9999, 'A válasz 1 és 9999 között van').required('Nem írtál semmi választ!')\n    })}\n      onSubmit={async (values) => {\n        setLoading(true);\n        if(triesForTask.includes(values.result)){\n          enqueueSnackbar('Ezt a választ már próbáltátok', { variant: 'error' });\n          setLoading(false);\n          return;\n        }\n        const result = await fetch(`${serverUrl}/submit`, {\n          method: 'PUT',\n          headers: { 'Content-Type': 'application/json', ...props.auth },\n          body: JSON.stringify({\n            exercise_uuid: data.exercise_uuid,\n            guess: values.result,\n            sequence: data.sequence,\n          }),\n\n        });\n        if (!result.ok) {\n          enqueueSnackbar((await result.json() as any)?.error || 'Hiba a beküldés során!', { variant: 'error' });\n          values.result = '';\n          setRefresh(!refresh)\n          return;\n        }\n        const next = await result.json();\n        const exercise = next?.next;\n        if(next?.submission?.guess_correct){\n          setTriesForTask([] as number[]);\n          enqueueSnackbar('A válasz helyes volt', { variant: 'success' });\n        }else{\n          if(exercise?.uuid === data.exercise_uuid){\n            const tries = triesForTask;\n            tries.push(values.result);\n            setTriesForTask(tries);\n          } else {\n            setTriesForTask([] as number[]);\n          }\n          enqueueSnackbar('A válasz sajnos nem volt jó', { variant: 'error' });\n        }\n        if(exercise?.title){\n          setData({\n            sequence: exercise.sequence_number, points: exercise.max_points-exercise.sequence_number,\n            order: exercise.category_ord, task: exercise.description,\n            attachments: exercise.attachments || [], title: exercise.title,\n            exercise_uuid: exercise.uuid\n          })\n        }\n        else{\n          setData({\n            sequence: 0, points: 0,\n            order: 0, task: `Végig értetek a feladatokon`,\n            attachments: [], title: '',\n            exercise_uuid: ''\n          })\n        }\n        values.result = '';\n        setRefresh(!refresh)\n        setLoading(false);\n      }}>\n      <div className={classes.formDiv}>\n        <Field name=\"result\"\n          key={`resInput${refresh}`}\n          type=\"text\"\n          component={MyTextInput}\n          label=\"Válasz:\"\n          otherProps={{ labelWhere: LabelType.Inline }}\n          className={classes.input}\n        />\n        <MyButton type=\"submit\" className={classes.input} label=\"Beküld\" loading ={loading}/>\n      </div>\n    </Form>\n  </MainBox>;\n}","import React from 'react';\n\ninterface PictureProps {\n    picture: Picture;\n    style?: React.CSSProperties;\n    className?: string;\n}\n\nexport interface Picture {\n    webPUrl: string;\n    jpegOrPngUrl: string;\n    alt: string;\n    title: string;\n}\n\nexport const WebshopPicture: React.FunctionComponent<PictureProps> = (props: PictureProps) => {\n    return <picture>\n        <source srcSet={`${process.env.PUBLIC_URL}${props.picture?.webPUrl}`} type=\"image/webp\"/>\n        <img style={props.style}\n             className={props.className}\n             src={`${process.env.PUBLIC_URL}${props.picture?.jpegOrPngUrl}`}\n             alt={props.picture.alt}\n             title={props.picture?.title}/>\n    </picture>;\n};\n","import React, { useEffect, useState } from \"react\";\nimport { makeStyles } from '@material-ui/core';\nimport { WebshopPicture } from \"./picture-component\";\nimport { MyButton } from \"./mybutton\";\nimport moment from 'moment';\nimport { useLogout } from \"./user-hooks/user-hooks\";\nimport { EndOfLineState } from \"typescript\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%',\n    padding: '30px 60px',\n    borderRadius: '30px',\n    color: theme.palette.secondary.contrastText,\n    marginTop: '-120px',\n    overflow: 'hidden',\n    backgroundColor: '#fff',\n    maxWidth: '700px',\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    [theme.breakpoints.down(700)]: {\n        marginLeft: '7px',\n        marginRight: '7px',\n        width: 'calc(100% - 14px)',\n    },\n    [theme.breakpoints.down(1000)]: {\n        marginTop: '-5px',\n    }\n  },\n  formDiv: {\n    width: 'calc(100% - 20px)',\n    minHeight: '320px',\n    display: 'flex',\n    marginLeft: '10px',\n    flexFlow: 'column',\n    marginRight: '10px',\n    flexWrap: 'wrap',\n    alignItems: 'left',\n    paddingBottom: '10px',\n  },\n  infoElement: {\n    fontSize: '15px',\n    marginBottom: '15px',\n  },\n  element: {\n    width: '100%',\n    marginBottom: '20px',\n  },\n  picture: {\n    width: '550px',\n    position: 'relative',\n    zIndex: 1,\n    marginLeft: '55%',\n    marginTop: '-200px'\n  },\n  link: {\n    alignSelf: 'start',\n    color: '#3B2E2E',\n    cursor: 'pointer',\n    textDecoration: 'underline',\n    ['&:hover']:{\n      color: '#707070'\n    }\n  }\n}))\n\nexport interface Props{\n  teamName:string;\n  categoryName: string;\n  categoryStart: moment.Moment;\n  categoryEnd: moment.Moment;\n  setInfo: (val:boolean)=>any;\n  teamInProgress: boolean;\n  teamFinished: boolean;\n}\n\nexport const Infos = (props:Props) => {\n  let now = moment();\n  let enabled = props.categoryStart && props.categoryEnd && props.categoryStart.isBefore(now) && props.categoryEnd.isAfter(now);\n  const [timerStarted, setTimerStarted] = useState(false);\n  const [enabledState, setEnabledState] = useState(enabled);\nconst logout = useLogout();\nconst classes = useStyles();\nconst checkDeadlines = (start:moment.Moment, end: moment.Moment)=> {\n  let now = moment();\n  let enabled2 = start?.isBefore(now) && end?.isAfter(now);\n  if(enabled2 !== enabledState ){\n    setEnabledState(enabled2);\n  }\n}\nuseEffect(()=>{\n  if(!timerStarted && props.categoryStart){\n    setInterval(checkDeadlines, 1000,props.categoryStart, props.categoryEnd);\n    setTimerStarted(true);\n  }\n}, [props.categoryStart])\n\nreturn <div className={classes.root} style={{maxHeight: '400px'}}>\n  <div style={{position: \"relative\", zIndex: 2, minHeight: '320px'}}>\n                  <div className={classes.formDiv}>\n                    <div className = {classes.infoElement}><b>Csapatnév:</b> {props.teamName}</div>\n                    <div className = {classes.infoElement}><b>Kategória:</b> {props.categoryName}</div>\n                    <div className = {classes.infoElement}><b>Kitöltés kezdete:</b> {props.categoryStart?.format(\"YYYY:MM:DD HH:mm\")}</div>\n                    <div className = {classes.infoElement}><b>Kitöltés vége:</b> {props.categoryEnd?.format(\"YYYY:MM:DD HH:mm\")}</div>\n                    <div style={{display: 'flex', flex: 1}}></div>\n                      <MyButton type='button' label={props.teamInProgress?\"Kitöltés folytatása\":(props.teamFinished?\"Eredmények megtekintése\":\"Kitöltés megkezdése\")} onClick={(event:any)=>{props.setInfo(false)}}\n                          className = {classes.element} disabled={!enabledState && !props.teamFinished}/>\n                  <a className={classes.link} onClick={()=>{logout()}}>\n                    Kijelentkezés\n                  </a>\n                  </div>\n                </div>\n          <WebshopPicture className={classes.picture} picture={{webPUrl: '/logo_kicsik_nagyok.png', jpegOrPngUrl: '/logo_kicsik_nagyok.png', alt: 'login', title: 'login'}}/>\n      </div>;\n}","import { createMuiTheme } from '@material-ui/core/styles';\n\n// Create a theme instance.\nconst theme = createMuiTheme({\n    palette: {\n        primary: {\n            main: '#D7B221',\n            contrastText: '#fff'\n        },\n        secondary: {\n            main: '#fff',\n            contrastText: '#3B2E2E'\n        },\n        background: {\n            default: '#DCBC88'\n        }\n    },\n    typography: {\n        fontFamily: [\n            'Poppins',\n            '-apple-system',\n            'sans-serif'\n        ].join(',')\n    },\n    breakpoints: {\n        values: {\n            xs: 0,\n            sm: 600,\n            md: 960,\n            lg: 1280,\n            xl: 1920,\n        },\n    },\n});\n\nexport default theme;\n","import React from 'react';\nimport theme from './theme';\nimport { SnackbarProvider } from 'notistack';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport { CssBaseline, makeStyles } from '@material-ui/core';\nimport Container from '@material-ui/core/Container';\nimport { WebshopPicture } from './picture-component';\nexport interface MyProps extends React.HTMLProps<any> {\n}\nconst useStyles = makeStyles((theme: any) => ({\n    bg: {\n        display: 'none',\n        [theme.breakpoints.up(1400)]: {\n            display: 'block'\n        },\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        'filter': 'blur(20px)',\n        '-webkit-filter': 'blur(20px)',\n        width: '100%',\n        transform: 'scale(1.1)'\n    },\n    bgDiv: {\n        height: '100%',\n        zIndex: 0,\n        position: 'relative',\n        overflow: 'hidden'\n    },\n    root: {\n        [theme.breakpoints.up(1400)]: {\n            left: '50%',\n            marginLeft: '-50%',\n            marginRight: '-50%',\n            maxWidth: '100%',\n            position: 'relative',\n            right: '50%',\n            width: '100%'\n        }\n    },\n    image: {\n        maxWidth: '100%',\n        width: '1400px',\n        marginBottom: '-5px',\n        height: 'auto',\n        marginLeft: 'auto',\n        marginRight: 'auto',\n        zIndex: 20,\n        marginTop: '-7%',\n        [theme.breakpoints.up(1400)]: {\n            marginBottom: '-5px',\n            height: 'auto',\n            width: '1400px',\n            maxWidth: '100%',\n            marginTop: '-100px',\n        },\n        [theme.breakpoints.down(1000)]: {\n            marginTop: '0px',\n            marginBottom: '-5px',\n            height: 'auto',\n            width: '100%',\n            maxWidth: '100%',\n        }\n    },\n    imageDiv: {\n        display: 'flex',\n        justifyContent: 'center',\n        transform: 'translate(0%, -100%)'\n    },\n    itemDiv: {\n        display: 'flex',\n        justifyContent: 'center'\n    },\n    magicBox: {\n        [theme.breakpoints.down(1000)]: {\n            height: '0px',\n            marginTop: '0px',\n        },\n        width: '100%',\n        zIndex: 2,\n        position: 'relative',\n        marginTop: '-49px',\n        backgroundColor: '#DCBC88',\n        height: '50px',\n    }\n}));\n\nexport const Layout: React.FunctionComponent<MyProps> = (props: MyProps) => {\n    const classes = useStyles();\n    return <React.Fragment>\n        <ThemeProvider theme={theme}>\n            <CssBaseline/>\n            <SnackbarProvider maxSnack={3}>\n                <div className={classes.root}>\n                <div className={classes.itemDiv}>\n                <div style={{ width: '100%', zIndex: 1, position: 'relative'}}>\n                    <div className={classes.bgDiv}>\n                        <WebshopPicture className={classes.bg} picture={{webPUrl: '/csakszoveg.webp', jpegOrPngUrl: '/csakszoveg.jpg', alt: 'header', title: 'header'}}/>\n                    </div>\n                    <div className={classes.imageDiv}>\n                        <WebshopPicture className={classes.image} picture={{webPUrl: '/csakszoveg.webp', jpegOrPngUrl: '/csakszoveg.jpg', alt: 'header', title: 'header'}}/>\n                    </div>\n                </div>\n                </div>\n                </div>\n                <div className={classes.magicBox}>\n                </div>\n                <Container style={{ paddingLeft: 0, paddingRight: 0, zIndex: 3, position: 'relative', paddingBottom: '50px', maxWidth: '1200px' }}>\n                    <div>\n                        {props.children}\n                    </div>\n                </Container>\n            </SnackbarProvider>\n        </ThemeProvider>\n    </React.Fragment>;\n};\n","import React, { useState } from \"react\";\nimport { Button, Divider, Link, makeStyles, Snackbar, TextField } from '@material-ui/core';\nimport Form from './form/form';\nimport * as Yup from 'yup';\nimport Field from './form/field';\nimport { LabelType, MyTextInput } from \"./mytext-input\";\nimport { MyButton } from \"./mybutton\";\nimport { useLogin } from \"./user-hooks/user-hooks\";\nimport { useSnackbar } from 'notistack';\nimport { WebshopPicture } from \"./picture-component\";\nimport { sendEmail } from \"./backend-calls\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%',\n    padding: '30px 60px',\n    borderRadius: '30px',\n    color: theme.palette.secondary.contrastText,\n    marginTop: '-120px',\n    overflow: 'hidden',\n    backgroundColor: '#fff',\n    maxWidth: '700px',\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    [theme.breakpoints.down(700)]: {\n        marginLeft: '7px',\n        marginRight: '7px',\n        width: 'calc(100% - 14px)',\n    },\n    [theme.breakpoints.down(1000)]: {\n        marginTop: '-5px',\n    }\n  },\n  formDiv: {\n    width: 'calc(100% - 20px)',\n    display: 'flex',\n    marginLeft: '10px',\n    flexFlow: 'column',\n    marginRight: '10px',\n    flexWrap: 'wrap',\n    alignItems: 'center',\n    paddingBottom: '10px',\n  },\n  element: {\n    width: '100%',\n    marginBottom: '20px',\n  },\n  picture: {\n    width: '550px',\n    position: 'relative',\n    zIndex: 1,\n    marginLeft: '55%',\n    marginTop: '-200px'\n  },\n  link: {\n    alignSelf: 'start',\n    color: '#3B2E2E',\n    cursor: 'pointer',\n    textDecoration: 'underline',\n    ['&:hover']:{\n      color: '#707070'\n    }\n  }\n}))\n\nexport const Login = () => {\nconst [forgotPass, setForgotPass] = useState(0);\nconst [loading, setLoading] = useState(false);\nconst { enqueueSnackbar } = useSnackbar();\nconst classes = useStyles();\nconst login= useLogin();\nreturn <div className={classes.root} style={{maxHeight: '400px'}}>\n  {forgotPass==0 && <Form style={{position: \"relative\", zIndex: 2}} initialValues={{email:'', password: ''}} validationSchema={Yup.object().shape({\n            email: Yup.string()\n            .email('Érvénytelen email formátum')\n            .required('E-mail kitöltése kötelező'),\n          })}\n                  onSubmit={async (values) => {\n                    setLoading(true);\n                    const res = await login(values.email, values.password);\n                    if(res){\n                      enqueueSnackbar(res, { variant: 'error' });\n                    }\n                    setLoading(false);\n                  }}>\n                  <div className={classes.formDiv}>\n                  <Field name=\"email\"\n                         type=\"text\"\n                         component={MyTextInput}\n                         label=\"E-mail\"\n                         otherProps = {{labelWhere: LabelType.Above}}\n                         className = {classes.element}\n                  />\n                  <Field name=\"password\"\n                         type=\"password\"\n                         component={MyTextInput}\n                         label=\"jelszó\"\n                         otherProps = {{labelWhere: LabelType.Above}}\n                         className = {classes.element}\n                  />\n                  <MyButton type=\"submit\" label=\"Belépés\" loading={loading}\n                         className = {classes.element}/>\n                  <a className={classes.link} onClick={()=>{setForgotPass(1)}}>\n                    Elfelejtettem a jelszavam\n                  </a>\n                  </div>\n          </Form>}\n          {forgotPass==1 && <Form style={{position: \"relative\", zIndex: 2}} initialValues={{email:''}} validationSchema={Yup.object().shape({\n            email: Yup.string()\n            .email('Érvénytelen email formátum')\n            .required('Email szükséges'),\n          })}\n                  onSubmit={async (values) => {\n                    setLoading(true);\n                    const res = await sendEmail(values.email);\n                    if(res){\n                      enqueueSnackbar(res, { variant: 'error' });\n                    }\n                    else {\n                      enqueueSnackbar(\"Az emailt sikeresen elküldtük!\", { variant: 'success' });\n                      window.location.href = '/';\n                    }\n                    setLoading(false);\n                  }}>\n                  <div className={classes.formDiv}>\n                  <Field name=\"email\"\n                         type=\"text\"\n                         component={MyTextInput}\n                         label=\"E-mail\"\n                         otherProps = {{labelWhere: LabelType.Above}}\n                         className = {classes.element}\n                  />\n                  <MyButton type=\"submit\" label=\"Küldés\" loading={loading}\n                         className = {classes.element}/>\n                  <a className={classes.link} onClick={()=>{setForgotPass(0)}}>\n                    vissza a bejelentkezéshez\n                  </a>\n                  </div>\n          </Form>}\n          <WebshopPicture className={classes.picture} picture={{webPUrl: '/logo_kicsik_nagyok.png', jpegOrPngUrl: '/logo_kicsik_nagyok.png', alt: 'login', title: 'login'}}/>\n      </div>;\n}","import React, { useState } from \"react\";\nimport { Button, Divider, Link, makeStyles, Snackbar, TextField } from '@material-ui/core';\nimport Form from './form/form';\nimport * as Yup from 'yup';\nimport Field from './form/field';\nimport { LabelType, MyTextInput } from \"./mytext-input\";\nimport { MyButton } from \"./mybutton\";\nimport { useLoginOtt } from \"./user-hooks/user-hooks\";\nimport { useSnackbar } from 'notistack';\nimport { WebshopPicture } from \"./picture-component\";\nimport {useRouter} from 'next/router';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%',\n    padding: '30px 60px',\n    borderRadius: '30px',\n    color: theme.palette.secondary.contrastText,\n    marginTop: '-120px',\n    overflow: 'hidden',\n    backgroundColor: '#fff',\n    maxWidth: '700px',\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    [theme.breakpoints.down(700)]: {\n        marginLeft: '7px',\n        marginRight: '7px',\n        width: 'calc(100% - 14px)',\n    },\n    [theme.breakpoints.down(1000)]: {\n        marginTop: '-5px',\n    }\n  },\n  formDiv: {\n    width: 'calc(100% - 20px)',\n    display: 'flex',\n    marginLeft: '10px',\n    flexFlow: 'column',\n    marginRight: '10px',\n    flexWrap: 'wrap',\n    alignItems: 'center',\n    paddingBottom: '10px',\n  },\n  element: {\n    width: '100%',\n    marginBottom: '20px',\n  },\n  picture: {\n    width: '550px',\n    position: 'relative',\n    zIndex: 1,\n    marginLeft: '55%',\n    marginTop: '-200px'\n  },\n  link: {\n    alignSelf: 'start',\n    color: '#3B2E2E',\n    cursor: 'pointer',\n    textDecoration: 'underline',\n    ['&:hover']:{\n      color: '#707070'\n    }\n  }\n}))\nexport interface Props{\n  token: string,\n}\n\nexport const OneTimeTokenLogin = (props: Props) => {\nconst [loading, setLoading] = useState(false);\nconst { enqueueSnackbar } = useSnackbar();\nconst classes = useStyles();\nconst login= useLoginOtt();\nconst goToFront = async ()=>{\n  window.location.href = '/';\n}\nreturn <div className={classes.root} style={{maxHeight: '400px'}}>\n  <Form style={{position: \"relative\", zIndex: 2}} initialValues={{email:'', password: ''}} validationSchema={Yup.object().shape({\n            email: Yup.string()\n            .email('Érvénytelen email formátum')\n            .required('E-mail kitöltése kötelező'),\n          })}\n                  onSubmit={async (values) => {\n                    setLoading(true);\n                    const res = await login(values.email, props.token);\n                    if(res){\n                      enqueueSnackbar(res, { variant: 'error' });\n                    }\n                    else {\n                      window.location.href = '/';\n                      //await Router.push(`/`, undefined, { shallow: true });\n                    }\n                    setLoading(true);\n                  }}>\n                  <div className={classes.formDiv}>\n                  <Field name=\"email\"\n                         type=\"text\"\n                         component={MyTextInput}\n                         label=\"E-mail\"\n                         otherProps = {{labelWhere: LabelType.Above}}\n                         className = {classes.element}\n                  />\n                  <MyButton type=\"submit\" label=\"Belépés\" loading={loading}\n                         className = {classes.element}/>\n                         <a className={classes.link} onClick={()=>{goToFront()}}>\n                          vissza a bejelentkezéshez\n                         </a>\n                  </div>\n          </Form>\n          <WebshopPicture className={classes.picture} picture={{webPUrl: '/logo_kicsik_nagyok.png', jpegOrPngUrl: '/logo_kicsik_nagyok.png', alt: 'login', title: 'login'}}/>\n      </div>;\n}","import React, { useEffect, useState } from 'react';\nimport './App.css';\nimport { getCategory, getCurrentExercise, getTeam } from './basicElements/backend-calls';\nimport { Category, Exercise, Team } from './basicElements/backend-types';\nimport { Excercise } from './basicElements/Excercise';\nimport { Infos } from './basicElements/infos';\nimport { Layout } from './basicElements/layout';\nimport { Login } from './basicElements/login';\nimport { LoadUserOnClientSide } from './basicElements/user-hooks/user-atom';\n//import Latex as Latex from 'react-latex';\nimport { useAuthHeader, useCurrentUser } from './basicElements/user-hooks/user-hooks';\nimport { OneTimeTokenLogin } from './basicElements/ott-login';\nimport { \n  useLocation,\n} from \"react-router-dom\";\nimport moment from 'moment';\n\nfunction Main() {\n  const [info, setInfo] = useState(true);\n  const [team, setTeam] = useState({ uuid: '', email: '', name: '' } as Team);\n  const [exercise, setExercise] = useState({} as Exercise);\n  const [category, setCategory] = useState({} as Category);\n  const tokenGetter= new URLSearchParams(useLocation().search);\n  const token = tokenGetter.get(\"one-time-auth\")\n  const authHeader = useAuthHeader();\n  const user = useCurrentUser();\n  useEffect(() => {\n    if (user) {\n      getTeam(authHeader).then(team => {\n        if(team!==null)\n          setTeam(team)\n      });\n      getCategory(authHeader, user.categoryUuid).then(cat => {\n        if(cat!==null)\n          setCategory(cat)\n      });\n      getCurrentExercise(authHeader).then(exc => {\n        if(exc!==null)\n          setExercise(exc);\n      });\n    }\n  }, [user]);\n  if(token){\n    return (\n      <Layout>\n        <OneTimeTokenLogin token = {token}/>\n      </Layout>\n    )\n  }\n  return (\n    <Layout>\n      <LoadUserOnClientSide/>\n      {!user && <Login />}\n      {user && info && <Infos teamFinished={!exercise.uuid && category.starts_at?.isBefore(moment.now())} teamInProgress={exercise?.category_ord > 1} setInfo={setInfo} teamName={team.name} categoryName={category.name} categoryEnd={category.ends_at} categoryStart={category.starts_at}/>}\n      {user && !info && <Excercise auth={authHeader} exercise={exercise} endsAt={category?.ends_at} teamName={team.name} setInfo={setInfo}/>}\n    </Layout>\n  );\n}\n\nexport default Main;\n","import React from 'react';\nimport './App.css';\nimport { RecoilRoot } from 'recoil';\nimport Main from './Main';\nimport { \n  BrowserRouter,\n  Route,\n  Switch\n} from \"react-router-dom\";\nimport { OneTimeTokenLogin } from './basicElements/ott-login';\nimport { Layout } from './basicElements/layout';\n\nfunction App() {\n  return (\n    <RecoilRoot>\n      <BrowserRouter>\n        <Route path=\"/\" component = {Main} />\n       </BrowserRouter>\n    </RecoilRoot>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}