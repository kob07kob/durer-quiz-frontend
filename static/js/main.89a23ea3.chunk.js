(this["webpackJsonpdurer-quiz-frontend"]=this["webpackJsonpdurer-quiz-frontend"]||[]).push([[0],{113:function(e,t,n){},132:function(e,t,n){},140:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),i=n.n(r),c=n(12),o=n.n(c),s=(n(132),n(113),n(39)),l=n(4),u=n(9),d=n.n(u),p=n(10),b=n(15),m="https://valto.durerinfo.hu/api/v1",x=n(76),f=n.n(x);function j(){return(j=Object(b.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(m,"/exercise/current"),{method:"GET",headers:Object(p.a)({},t)});case 2:if((n=e.sent).ok){e.next=5;break}return e.abrupt("return",null);case 5:return e.prev=5,e.next=8,n.json();case 8:return a=e.sent,e.abrupt("return",a);case 12:return e.prev=12,e.t0=e.catch(5),console.log(n),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[5,12]])})))).apply(this,arguments)}function h(){return(h=Object(b.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(m,"/team/my"),{method:"GET",headers:Object(p.a)({},t)});case 2:if((n=e.sent).ok){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=Object(b.a)(d.a.mark((function e(t,n){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(m,"/category/").concat(n),{method:"GET",headers:Object(p.a)({},t)});case 2:if((a=e.sent).ok){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,a.json();case 7:return r=e.sent,e.abrupt("return",{starts_at:f()(r.starts_at),ends_at:f()(r.ends_at),uuid:r.category,name:r.name});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return O.apply(this,arguments)}function O(){return(O=Object(b.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(m,"/login/team/send-ott"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})});case 3:if(!(n=e.sent).ok){e.next=6;break}return e.abrupt("return","");case 6:if(420!==n.status){e.next=8;break}return e.abrupt("return","T\xfal sok pr\xf3b\xe1lkoz\xe1s!");case 8:if(403!==n.status){e.next=12;break}return e.abrupt("return","Tiltott m\u0171velet!");case 12:return e.abrupt("return","A backenden m\xe9g nem \xe9l az url");case 13:e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return","Nem siker\xfclt csatlakozni a szerverhez");case 19:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}var k,y=n(6),w=n(173),T=Object(w.a)((function(e){return{root:Object(y.a)({width:"100%",marginTop:"-120px",overflow:"hidden"},e.breakpoints.down(1e3),{marginTop:"-5px",paddingLeft:"7px",paddingRight:"7px"}),header:{backgroundColor:e.palette.primary.main,padding:"30px 60px",borderRadius:"30px 30px 0px 0px",color:e.palette.primary.contrastText},contentDiv:{backgroundColor:e.palette.secondary.main,padding:"30px 15px 0px 15px",borderRadius:"0px 0px 30px 30px",color:e.palette.secondary.contrastText},mainTitle:{fontSize:"30px"},subTitle:{fontSize:"20px"}}})),z=function(e){var t=T();return Object(a.jsxs)("div",{className:t.root,children:[Object(a.jsxs)("div",{className:t.header,children:[Object(a.jsx)("div",{className:t.mainTitle,children:e.mainTitle}),Object(a.jsx)("div",{className:t.subTitle,children:e.subTitle})]}),Object(a.jsx)("div",{className:t.contentDiv,children:e.children})]})},N=n(181),S=n(83),C=function(e){return Object(a.jsx)("div",{className:e.className,style:e.style,children:Object(a.jsx)(S.c,{initialValues:e.initialValues,validationSchema:e.validationSchema,onSubmit:function(t,n){var a=n.setSubmitting;n.setTouched;e.onSubmit(t,a)},children:Object(a.jsx)(S.b,{children:e.children})})})},E=n(38);!function(e){e[e.default=0]="default",e[e.noBackground=1]="noBackground",e[e.floating=2]="floating"}(k||(k={}));var I,B=function(e){var t=i.a.useState(!1),n=Object(l.a)(t,2),r=n[0],c=n[1];return Object(a.jsx)("div",{className:e.className,style:e.style,children:Object(a.jsx)(S.a,{name:e.name,children:function(t){var n=t.field,o=(t.form,t.meta);return Object(a.jsx)("div",{children:i.a.createElement(e.component,Object(p.a)({name:e.name,label:e.label,error:(!!o.touched||r)&&!!o.error,helperText:(!!o.touched||r)&&o.error,placeholder:e.placeholder,onChange:function(t){e.onChange&&e.onChange(t),n.onChange(t)},type:e.type,value:n.value,disabled:e.disabled,style:e.componentStyle,onBlur:function(){r||c(!0),"function"===typeof e.setHasBlured&&(null===e||void 0===e||e.setHasBlured())}},e.otherProps))})}})})},_=n(3),L=n(185);!function(e){e[e.Inline=0]="Inline",e[e.Above=1]="Above"}(I||(I={}));var D=Object(w.a)((function(e){return{inlineInput:{width:"100%",marginLeft:"15px",marginRight:"15px","& .MuiOutlinedInput-root":{height:"60px",borderRadius:"34px"}},aboveInput:{width:"100%","& .MuiOutlinedInput-root":{height:"40px",borderRadius:"30px"}},label:{fontSize:"18px",fontWeight:"bold"}}})),P=function(e){var t=D(),n=e.labelWhere,r=e.label,i=(e.color,e.size,e.ref,e.className),c=Object(_.a)(e,["labelWhere","label","color","size","ref","className"]);return Object(a.jsxs)("div",{className:i,style:n===I.Inline?{display:"flex",flexFlow:"row",alignItems:"center"}:{display:"flex",flexFlow:"column"},children:[Object(a.jsx)("div",{style:n===I.Above?{marginLeft:"30px"}:{},className:t.label,children:r}),Object(a.jsx)(L.a,Object(p.a)(Object(p.a)({},c),{},{variant:"outlined",label:"",className:n===I.Inline?t.inlineInput:t.aboveInput}))]})},R=n(186),U=n(180),q=Object(w.a)((function(e){return{root:{"&.MuiButton-contained":{height:"60px",borderRadius:"34px",fontSize:"18px"},"&.MuiButton-contained.Mui-disabled":{backgroundColor:"#e0e0e0"}}}})),W=function(e){var t=q();return Object(a.jsx)(R.a,{disabled:!!e.disabled||e.loading,onClick:function(t){e.onClick&&e.onClick(t)},color:"primary",className:"".concat(t.root," ").concat(e.className),variant:"contained",type:e.type,children:e.loading?Object(a.jsxs)(a.Fragment,{children:[e.label,Object(a.jsx)(U.a,{size:30,style:{marginLeft:"20px"}})]}):e.label})},A=n(53),H=Object(w.a)((function(e){return{formDiv:{display:"flex",maxWidth:"700px",marginLeft:"auto",marginRight:"auto",flexWrap:"wrap",alignItems:"center",paddingBottom:"10px"},input:Object(y.a)({width:"50%"},e.breakpoints.down(650),{marginBottom:"15px",width:"100%"}),button:Object(y.a)({width:"50%"},e.breakpoints.down(650),{width:"100%"})}})),F=function(e){var t=Object(A.b)().enqueueSnackbar,n=H(),i=Object(r.useState)(!1),c=Object(l.a)(i,2),o=c[0],s=c[1],u=Object(r.useState)({sequence:e.exercise.sequence_number,points:e.exercise.max_points-e.exercise.sequence_number,order:e.exercise.category_ord,task:e.exercise.description,attachments:e.exercise.attachments,title:e.exercise.title,exercise_uuid:e.exercise.uuid}),x=Object(l.a)(u,2),f=x[0],j=x[1],h=Object(r.useState)(!1),g=Object(l.a)(h,2),v=g[0],O=g[1],k=Object(r.useState)([]),y=Object(l.a)(k,2),w=y[0],T=y[1],S='<latex-js hyphenate="false">'.concat(f.task,"\n</latex-js>");return Object(a.jsxs)(z,{mainTitle:"".concat(f.order+1,".feladat: ").concat(f.title),subTitle:"".concat(f.sequence+1,". pr\xf3ba, ").concat(f.points," pont\xe9rt"),children:[Object(a.jsx)("div",{dangerouslySetInnerHTML:{__html:S}}),f.attachments.map((function(e){return Object(a.jsx)("img",{src:e.uri,style:{maxWidth:"80%",display:"flex",marginLeft:"auto",marginRight:"auto"}})})),Object(a.jsx)(N.a,{variant:"middle",style:{marginTop:"10px",marginBottom:"10px"}}),Object(a.jsx)(C,{initialValues:{result:""},validationSchema:E.b().shape({result:E.a().integer("Eg\xe9sz sz\xe1mot kell \xedrni").typeError("Sz\xe1mot kell \xedrnod").min(1,"A v\xe1lasz 1 \xe9s 9999 k\xf6z\xf6tt van").max(9999,"A v\xe1lasz 1 \xe9s 9999 k\xf6z\xf6tt van").required("Nem \xedrt\xe1l semmi v\xe1laszt!")}),onSubmit:function(){var n=Object(b.a)(d.a.mark((function n(a){var r,i,c,o,l,u;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s(!0),!w.includes(a.result)){n.next=5;break}return t("Ezt a v\xe1laszt m\xe1r pr\xf3b\xe1lt\xe1tok",{variant:"error"}),s(!1),n.abrupt("return");case 5:return n.next=7,fetch("".concat(m,"/submit"),{method:"PUT",headers:Object(p.a)({"Content-Type":"application/json"},e.auth),body:JSON.stringify({exercise_uuid:f.exercise_uuid,guess:a.result,sequence:f.sequence})});case 7:if((i=n.sent).ok){n.next=30;break}return n.t0=t,n.next=12,i.json();case 12:if(n.t3=c=n.sent,n.t2=null===n.t3,n.t2){n.next=16;break}n.t2=void 0===c;case 16:if(!n.t2){n.next=20;break}n.t4=void 0,n.next=21;break;case 20:n.t4=c.error;case 21:if(n.t1=n.t4,n.t1){n.next=24;break}n.t1="Hiba a bek\xfcld\xe9s sor\xe1n!";case 24:return n.t5=n.t1,n.t6={variant:"error"},(0,n.t0)(n.t5,n.t6),a.result="",O(!v),n.abrupt("return");case 30:return n.next=32,i.json();case 32:o=n.sent,l=null===o||void 0===o?void 0:o.next,(null===o||void 0===o||null===(r=o.submission)||void 0===r?void 0:r.guess_correct)?(T([]),t("A v\xe1lasz helyes volt",{variant:"success"})):(l.sequence_number===f.sequence?((u=w).push(a.result),T(u)):T([]),t("A v\xe1lasz nem volt j\xf3",{variant:"error"})),(null===l||void 0===l?void 0:l.title)?j({sequence:l.sequence_number,points:l.max_points-l.sequence_number,order:l.category_ord,task:l.description,attachments:l.attachments||[],title:l.title,exercise_uuid:l.uuid}):j({sequence:0,points:0,order:0,task:"V\xe9gig \xe9rtetek a feladatokon",attachments:[],title:"",exercise_uuid:"asdas"}),a.result="",O(!v),s(!1);case 39:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),children:Object(a.jsxs)("div",{className:n.formDiv,children:[Object(a.jsx)(B,{name:"result",type:"text",component:P,label:"V\xe1lasz:",otherProps:{labelWhere:I.Inline},className:n.input},"resInput".concat(v)),Object(a.jsx)(W,{type:"submit",className:n.input,label:"Bek\xfcld",loading:o})]})})]})},M=function(e){var t,n,r;return Object(a.jsxs)("picture",{children:[Object(a.jsx)("source",{srcSet:"".concat("/durer-quiz-frontend").concat(null===(t=e.picture)||void 0===t?void 0:t.webPUrl),type:"image/webp"}),Object(a.jsx)("img",{style:e.style,className:e.className,src:"".concat("/durer-quiz-frontend").concat(null===(n=e.picture)||void 0===n?void 0:n.jpegOrPngUrl),alt:e.picture.alt,title:null===(r=e.picture)||void 0===r?void 0:r.title})]})},Y=n(26),V=n(30),K=n(118),J="kjqAEKeFkMpOvOZrzcvp",G=function(){function e(){Object(Y.a)(this,e),this.userCache=null}return Object(V.a)(e,[{key:"saveToken",value:function(){var t=Object(b.a)(d.a.mark((function t(n){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:localStorage.setItem(J,n),a=e.decodeToken(n),this.userCache={token:n,decodedToken:a};case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getToken",value:function(){if("undefined"===typeof localStorage)return null;var e=localStorage.getItem(J);return e||null}},{key:"getCurrentUser",value:function(){var t=Object(b.a)(d.a.mark((function t(){var n,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.getToken()){t.next=3;break}return t.abrupt("return",null);case 3:if(!this.userCache){t.next=7;break}if(n!==this.userCache.token||e.isTokenExpired(this.userCache.decodedToken)){t.next=6;break}return t.abrupt("return",{email:this.userCache.decodedToken.email,categoryUuid:this.userCache.decodedToken.category.uuid,categoryName:this.userCache.decodedToken.category.name});case 6:this.userCache=null;case 7:if(a=e.decodeToken(n),!e.isTokenExpired(a)){t.next=10;break}return t.abrupt("return",null);case 10:return this.userCache={token:n,decodedToken:a},t.abrupt("return",{email:a.email,categoryUuid:a.category.uuid,categoryName:a.category.name});case 12:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"isUserLoggedIn",value:function(){var t=this.getToken();return!!t&&!e.isTokenExpired(t)}},{key:"logout",value:function(){this.userCache=null,localStorage.removeItem(J)}},{key:"login",value:function(){var e=Object(b.a)(d.a.mark((function e(t,n){var a,r,i,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(m,"/login/team"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({method:"email-password",email:t,password:n})});case 2:if((a=e.sent).ok){e.next=17;break}return e.next=6,a.json();case 6:if(e.t1=r=e.sent,e.t0=null===e.t1,e.t0){e.next=10;break}e.t0=void 0===r;case 10:if(!e.t0){e.next=14;break}e.t2=void 0,e.next=15;break;case 14:e.t2=r.error;case 15:return i=e.t2,e.abrupt("return","Unauthorized"===i?"Hib\xe1s email/jelsz\xf3":"Valami hiba t\xf6rt\xe9nt!");case 17:return e.next=19,a.text();case 19:return c=e.sent,e.next=22,this.saveToken(c);case 22:return e.abrupt("return",null);case 23:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"loginOtt",value:function(){var e=Object(b.a)(d.a.mark((function e(t,n){var a,r,i,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(m,"/login/team"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({method:"one-time-token",email:t,token:n})});case 2:if((a=e.sent).ok){e.next=17;break}return e.next=6,a.json();case 6:if(e.t1=r=e.sent,e.t0=null===e.t1,e.t0){e.next=10;break}e.t0=void 0===r;case 10:if(!e.t0){e.next=14;break}e.t2=void 0,e.next=15;break;case 14:e.t2=r.error;case 15:return i=e.t2,e.abrupt("return","Unauthorized"===i?"Hib\xe1s email":"Token not found"===i?"Nem l\xe9tez\u0151 token":"Valami hiba t\xf6rt\xe9nt!");case 17:return e.next=19,a.text();case 19:return c=e.sent,e.next=22,this.saveToken(c);case 22:return e.abrupt("return",null);case 23:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addListener",value:function(t){var n=this;if("undefined"!==typeof window&&!e.wasListenerAddedYet){e.wasListenerAddedYet=!0;var a=null;window.addEventListener("storage",function(){var e=Object(b.a)(d.a.mark((function e(r){var i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===r||void 0===r?void 0:r.key)===J){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n.getCurrentUser();case 4:i=e.sent,a!==i&&(t(i),a=i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}],[{key:"isTokenExpired",value:function(e){return(new Date).getTime()/1e3>e.exp}},{key:"decodeToken",value:function(e){return Object(K.a)(e)}}]),e}();G.wasListenerAddedYet=!1;var Z=Object(s.b)({key:"current-user",default:null}),Q=function(){var e=Object(s.c)(Z),t=Object(l.a)(e,2),n=(t[0],t[1]);return Object(r.useEffect)((function(){if("undefined"!==typeof window){var e=new G;e.getCurrentUser().then((function(e){n(e)})),e.addListener(n)}}),[]),null},X=new G,$=Object(w.a)((function(e){var t;return{root:(t={width:"100%",padding:"30px 60px",borderRadius:"30px",color:e.palette.secondary.contrastText,marginTop:"-120px",overflow:"hidden",backgroundColor:"#fff",maxWidth:"700px",marginLeft:"auto",marginRight:"auto"},Object(y.a)(t,e.breakpoints.down(700),{marginLeft:"7px",marginRight:"7px",width:"calc(100% - 14px)"}),Object(y.a)(t,e.breakpoints.down(1e3),{marginTop:"-5px"}),t),formDiv:{width:"calc(100% - 20px)",minHeight:"320px",display:"flex",marginLeft:"10px",flexFlow:"column",marginRight:"10px",flexWrap:"wrap",alignItems:"left",paddingBottom:"10px"},infoElement:{fontSize:"15px",marginBottom:"15px"},element:{width:"100%",marginBottom:"20px"},picture:{width:"550px",position:"relative",zIndex:1,marginLeft:"55%",marginTop:"-200px"},link:Object(y.a)({alignSelf:"start",color:"#3B2E2E",cursor:"pointer",textDecoration:"underline"},"&:hover",{color:"#707070"})}})),ee=function(e){var t,n,i=f()(),c=e.categoryStart&&e.categoryEnd&&e.categoryStart.isBefore(i)&&e.categoryEnd.isAfter(i),o=Object(r.useState)(!1),u=Object(l.a)(o,2),d=u[0],p=u[1],b=Object(r.useState)(c),m=Object(l.a)(b,2),x=m[0],j=m[1],h=function(){var e=Object(s.c)(Z),t=Object(l.a)(e,2),n=(t[0],t[1]);return function(){X.logout(),n(null)}}(),g=$(),v=function(){var t=f()();(e.categoryStart&&e.categoryEnd&&e.categoryStart.isBefore(t)&&e.categoryEnd.isAfter(t))!==x&&j(c)};return Object(r.useEffect)((function(){d||(setInterval(v,1e3),p(!0))}),[]),Object(a.jsxs)("div",{className:g.root,style:{maxHeight:"400px"},children:[Object(a.jsx)("div",{style:{position:"relative",zIndex:2,minHeight:"320px"},children:Object(a.jsxs)("div",{className:g.formDiv,children:[Object(a.jsxs)("div",{className:g.infoElement,children:[Object(a.jsx)("b",{children:"Csapatn\xe9v:"})," ",e.teamName]}),Object(a.jsxs)("div",{className:g.infoElement,children:[Object(a.jsx)("b",{children:"Kateg\xf3ria:"})," ",e.categoryName]}),Object(a.jsxs)("div",{className:g.infoElement,children:[Object(a.jsx)("b",{children:"Kit\xf6lt\xe9s kezdete:"})," ",null===(t=e.categoryStart)||void 0===t?void 0:t.format("YYYY:MM:DD HH:mm")]}),Object(a.jsxs)("div",{className:g.infoElement,children:[Object(a.jsx)("b",{children:"Kit\xf6lt\xe9s v\xe9ge:"})," ",null===(n=e.categoryEnd)||void 0===n?void 0:n.format("YYYY:MM:DD HH:mm")]}),Object(a.jsx)("div",{style:{display:"flex",flex:1}}),Object(a.jsx)(W,{type:"button",label:e.teamInProgress?"Kit\xf6lt\xe9s folytat\xe1sa":"Kit\xf6lt\xe9s megkezd\xe9se",onClick:function(t){e.setInfo(!1)},className:g.element,disabled:!c}),Object(a.jsx)("a",{className:g.link,onClick:function(){h()},children:"Kijelentkez\xe9s"})]})}),Object(a.jsx)(M,{className:g.picture,picture:{webPUrl:"/logo_kicsik_nagyok.png",jpegOrPngUrl:"/logo_kicsik_nagyok.png",alt:"login",title:"login"}})]})},te=n(119),ne=Object(te.a)({palette:{primary:{main:"#D7B221",contrastText:"#fff"},secondary:{main:"#fff",contrastText:"#3B2E2E"},background:{default:"#DCBC88"}},typography:{fontFamily:["Poppins","-apple-system","sans-serif"].join(",")},breakpoints:{values:{xs:0,sm:600,md:960,lg:1280,xl:1920}}}),ae=n(182),re=n(183),ie=n(184),ce=Object(w.a)((function(e){var t,n,a;return{bg:(t={display:"none"},Object(y.a)(t,e.breakpoints.up(1400),{display:"block"}),Object(y.a)(t,"position","absolute"),Object(y.a)(t,"top",0),Object(y.a)(t,"left",0),Object(y.a)(t,"filter","blur(20px)"),Object(y.a)(t,"-webkit-filter","blur(20px)"),Object(y.a)(t,"width","100%"),Object(y.a)(t,"transform","scale(1.1)"),t),bgDiv:{height:"100%",zIndex:0,position:"relative",overflow:"hidden"},root:Object(y.a)({},e.breakpoints.up(1400),{left:"50%",marginLeft:"-50%",marginRight:"-50%",maxWidth:"100%",position:"relative",right:"50%",width:"100%"}),image:(n={maxWidth:"100%",width:"1400px",marginBottom:"-5px",height:"auto",marginLeft:"auto",marginRight:"auto",zIndex:20,marginTop:"-7%"},Object(y.a)(n,e.breakpoints.up(1400),{marginBottom:"-5px",height:"auto",width:"1400px",maxWidth:"100%",marginTop:"-100px"}),Object(y.a)(n,e.breakpoints.down(1e3),{marginTop:"0px",marginBottom:"-5px",height:"auto",width:"100%",maxWidth:"100%"}),n),imageDiv:{display:"flex",justifyContent:"center",transform:"translate(0%, -100%)"},itemDiv:{display:"flex",justifyContent:"center"},magicBox:(a={},Object(y.a)(a,e.breakpoints.down(1e3),{height:"0px",marginTop:"0px"}),Object(y.a)(a,"width","100%"),Object(y.a)(a,"zIndex",2),Object(y.a)(a,"position","relative"),Object(y.a)(a,"marginTop","-49px"),Object(y.a)(a,"backgroundColor","#DCBC88"),Object(y.a)(a,"height","50px"),a)}})),oe=function(e){var t=ce();return Object(a.jsx)(i.a.Fragment,{children:Object(a.jsxs)(ae.a,{theme:ne,children:[Object(a.jsx)(re.a,{}),Object(a.jsxs)(A.a,{maxSnack:3,children:[Object(a.jsx)("div",{className:t.root,children:Object(a.jsx)("div",{className:t.itemDiv,children:Object(a.jsxs)("div",{style:{width:"100%",zIndex:1,position:"relative"},children:[Object(a.jsx)("div",{className:t.bgDiv,children:Object(a.jsx)(M,{className:t.bg,picture:{webPUrl:"/csakszoveg.webp",jpegOrPngUrl:"/csakszoveg.jpg",alt:"header",title:"header"}})}),Object(a.jsx)("div",{className:t.imageDiv,children:Object(a.jsx)(M,{className:t.image,picture:{webPUrl:"/csakszoveg.webp",jpegOrPngUrl:"/csakszoveg.jpg",alt:"header",title:"header"}})})]})})}),Object(a.jsx)("div",{className:t.magicBox}),Object(a.jsx)(ie.a,{style:{paddingLeft:0,paddingRight:0,zIndex:3,position:"relative",paddingBottom:"50px",maxWidth:"1200px"},children:Object(a.jsx)("div",{children:e.children})})]})]})})},se=Object(w.a)((function(e){var t;return{root:(t={width:"100%",padding:"30px 60px",borderRadius:"30px",color:e.palette.secondary.contrastText,marginTop:"-120px",overflow:"hidden",backgroundColor:"#fff",maxWidth:"700px",marginLeft:"auto",marginRight:"auto"},Object(y.a)(t,e.breakpoints.down(700),{marginLeft:"7px",marginRight:"7px",width:"calc(100% - 14px)"}),Object(y.a)(t,e.breakpoints.down(1e3),{marginTop:"-5px"}),t),formDiv:{width:"calc(100% - 20px)",display:"flex",marginLeft:"10px",flexFlow:"column",marginRight:"10px",flexWrap:"wrap",alignItems:"center",paddingBottom:"10px"},element:{width:"100%",marginBottom:"20px"},picture:{width:"550px",position:"relative",zIndex:1,marginLeft:"55%",marginTop:"-200px"},link:Object(y.a)({alignSelf:"start",color:"#3B2E2E",cursor:"pointer",textDecoration:"underline"},"&:hover",{color:"#707070"})}})),le=function(){var e=Object(r.useState)(0),t=Object(l.a)(e,2),n=t[0],i=t[1],c=Object(r.useState)(!1),o=Object(l.a)(c,2),u=o[0],p=o[1],m=Object(A.b)().enqueueSnackbar,x=se(),f=function(){var e=Object(s.c)(Z),t=Object(l.a)(e,2),n=(t[0],t[1]);return function(){var e=Object(b.a)(d.a.mark((function e(t,a){var r,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.login(t,a);case 2:if(r=e.sent){e.next=8;break}return e.next=6,X.getCurrentUser();case 6:i=e.sent,n(i);case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}();return Object(a.jsxs)("div",{className:x.root,style:{maxHeight:"400px"},children:[0==n&&Object(a.jsx)(C,{style:{position:"relative",zIndex:2},initialValues:{email:"",password:""},validationSchema:E.b().shape({email:E.c().email("\xc9rv\xe9nytelen email form\xe1tum").required("E-mail kit\xf6lt\xe9se k\xf6telez\u0151")}),onSubmit:function(){var e=Object(b.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,f(t.email,t.password);case 3:(n=e.sent)&&m(n,{variant:"error"}),p(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:Object(a.jsxs)("div",{className:x.formDiv,children:[Object(a.jsx)(B,{name:"email",type:"text",component:P,label:"E-mail",otherProps:{labelWhere:I.Above},className:x.element}),Object(a.jsx)(B,{name:"password",type:"password",component:P,label:"jelsz\xf3",otherProps:{labelWhere:I.Above},className:x.element}),Object(a.jsx)(W,{type:"submit",label:"Bel\xe9p\xe9s",loading:u,className:x.element}),Object(a.jsx)("a",{className:x.link,onClick:function(){i(1)},children:"Elfelejtettem a jelszavam"})]})}),1==n&&Object(a.jsx)(C,{style:{position:"relative",zIndex:2},initialValues:{email:""},validationSchema:E.b().shape({email:E.c().email("\xc9rv\xe9nytelen email form\xe1tum").required("Email sz\xfcks\xe9ges")}),onSubmit:function(){var e=Object(b.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,v(t.email);case 3:(n=e.sent)?m(n,{variant:"error"}):(m("Az emailt sikeresen elk\xfcldt\xfck!",{variant:"success"}),window.location.href="/"),p(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:Object(a.jsxs)("div",{className:x.formDiv,children:[Object(a.jsx)(B,{name:"email",type:"text",component:P,label:"E-mail",otherProps:{labelWhere:I.Above},className:x.element}),Object(a.jsx)(W,{type:"submit",label:"K\xfcld\xe9s",loading:u,className:x.element}),Object(a.jsx)("a",{className:x.link,onClick:function(){i(0)},children:"vissza a bejelentkez\xe9shez"})]})}),Object(a.jsx)(M,{className:x.picture,picture:{webPUrl:"/logo_kicsik_nagyok.png",jpegOrPngUrl:"/logo_kicsik_nagyok.png",alt:"login",title:"login"}})]})},ue=Object(w.a)((function(e){var t;return{root:(t={width:"100%",padding:"30px 60px",borderRadius:"30px",color:e.palette.secondary.contrastText,marginTop:"-120px",overflow:"hidden",backgroundColor:"#fff",maxWidth:"700px",marginLeft:"auto",marginRight:"auto"},Object(y.a)(t,e.breakpoints.down(700),{marginLeft:"7px",marginRight:"7px",width:"calc(100% - 14px)"}),Object(y.a)(t,e.breakpoints.down(1e3),{marginTop:"-5px"}),t),formDiv:{width:"calc(100% - 20px)",display:"flex",marginLeft:"10px",flexFlow:"column",marginRight:"10px",flexWrap:"wrap",alignItems:"center",paddingBottom:"10px"},element:{width:"100%",marginBottom:"20px"},picture:{width:"550px",position:"relative",zIndex:1,marginLeft:"55%",marginTop:"-200px"},link:Object(y.a)({alignSelf:"start",color:"#3B2E2E",cursor:"pointer",textDecoration:"underline"},"&:hover",{color:"#707070"})}})),de=function(e){var t=Object(r.useState)(!1),n=Object(l.a)(t,2),i=n[0],c=n[1],o=Object(A.b)().enqueueSnackbar,u=ue(),p=function(){var e=Object(s.c)(Z),t=Object(l.a)(e,2),n=(t[0],t[1]);return function(){var e=Object(b.a)(d.a.mark((function e(t,a){var r,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.loginOtt(t,a);case 2:if(r=e.sent){e.next=8;break}return e.next=6,X.getCurrentUser();case 6:i=e.sent,n(i);case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}(),m=function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href="/";case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:u.root,style:{maxHeight:"400px"},children:[Object(a.jsx)(C,{style:{position:"relative",zIndex:2},initialValues:{email:"",password:""},validationSchema:E.b().shape({email:E.c().email("\xc9rv\xe9nytelen email form\xe1tum").required("E-mail kit\xf6lt\xe9se k\xf6telez\u0151")}),onSubmit:function(){var t=Object(b.a)(d.a.mark((function t(n){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!0),t.next=3,p(n.email,e.token);case 3:(a=t.sent)?o(a,{variant:"error"}):window.location.href="/",c(!0);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:Object(a.jsxs)("div",{className:u.formDiv,children:[Object(a.jsx)(B,{name:"email",type:"text",component:P,label:"E-mail",otherProps:{labelWhere:I.Above},className:u.element}),Object(a.jsx)(W,{type:"submit",label:"Bel\xe9p\xe9s",loading:i,className:u.element}),Object(a.jsx)("a",{className:u.link,onClick:function(){m()},children:"vissza a bejelentkez\xe9shez"})]})}),Object(a.jsx)(M,{className:u.picture,picture:{webPUrl:"/logo_kicsik_nagyok.png",jpegOrPngUrl:"/logo_kicsik_nagyok.png",alt:"login",title:"login"}})]})},pe=n(17);var be=function(){var e=Object(r.useState)(!0),t=Object(l.a)(e,2),n=t[0],i=t[1],c=Object(r.useState)({uuid:"",email:"",name:""}),o=Object(l.a)(c,2),u=o[0],d=o[1],p=Object(r.useState)({}),b=Object(l.a)(p,2),m=b[0],x=b[1],f=Object(r.useState)({}),v=Object(l.a)(f,2),O=v[0],k=v[1],y=new URLSearchParams(Object(pe.e)().search).get("one-time-auth"),w=function(){var e=Object(s.c)(Z),t=Object(l.a)(e,2),n=(t[0],t[1],X.getToken());return{Authorization:"Bearer ".concat(n)}}(),T=function(){var e=Object(s.c)(Z),t=Object(l.a)(e,2),n=t[0];return t[1],n}();return Object(r.useEffect)((function(){T&&(function(e){return h.apply(this,arguments)}(w).then((function(e){null!==e&&d(e)})),function(e,t){return g.apply(this,arguments)}(w,T.categoryUuid).then((function(e){null!==e&&k(e)})),function(e){return j.apply(this,arguments)}(w).then((function(e){null!==e&&x(e)})))}),[T]),y?Object(a.jsx)(oe,{children:Object(a.jsx)(de,{token:y})}):Object(a.jsxs)(oe,{children:[Object(a.jsx)(Q,{}),!T&&Object(a.jsx)(le,{}),T&&n&&Object(a.jsx)(ee,{teamInProgress:(null===m||void 0===m?void 0:m.category_ord)>1,setInfo:i,teamName:u.name,categoryName:O.name,categoryEnd:O.ends_at,categoryStart:O.starts_at}),T&&!n&&Object(a.jsx)(F,{auth:w,exercise:m})]})},me=n(105);var xe=function(){return Object(a.jsx)(s.a,{children:Object(a.jsx)(me.a,{children:Object(a.jsx)(pe.a,{path:"/",component:be})})})},fe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,187)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))};o.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(xe,{})}),document.getElementById("root")),fe()}},[[140,1,2]]]);
//# sourceMappingURL=main.89a23ea3.chunk.js.map