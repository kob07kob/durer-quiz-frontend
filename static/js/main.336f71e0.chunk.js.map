{"version":3,"sources":["constants.ts","basicElements/backend-calls.ts","basicElements/form/field.tsx","basicElements/main-box.tsx","basicElements/form/form.tsx","basicElements/mytext-input.tsx","basicElements/mybutton.tsx","basicElements/user-hooks/user-model.ts","basicElements/user-hooks/user-atom.ts","basicElements/user-hooks/user-hooks.ts","basicElements/result-page.tsx","basicElements/Excercise.tsx","basicElements/picture-component.tsx","basicElements/infos.tsx","basicElements/theme.ts","basicElements/layout.tsx","basicElements/login.tsx","basicElements/ott-login.tsx","Main.tsx","App.tsx","reportWebVitals.js","index.js"],"names":["serverUrl","getCurrentExercise","auth","a","fetch","method","headers","result","ok","json","res","console","log","uuid","raw_obj","moment","starts_at","ends_at","category","name","sendEmail","email","body","JSON","stringify","status","HelperTextType","useStyles","makeStyles","theme","root","width","marginTop","overflow","breakpoints","down","paddingLeft","paddingRight","header","backgroundColor","palette","primary","main","padding","borderRadius","color","contrastText","contentDiv","secondary","mainTitle","fontSize","subTitle","rightTitle","float","MainBox","props","classes","className","children","Form","style","initialValues","validationSchema","onSubmit","values","setSubmitting","setTouched","LabelType","Field","React","useState","hasBlured","setHasBlured","field","meta","form","createElement","component","label","error","touched","helperText","placeholder","onChange","e","type","value","disabled","componentStyle","onBlur","otherProps","inlineInput","marginLeft","marginRight","height","aboveInput","fontWeight","MyTextInput","labelWhere","size","ref","Inline","display","flexFlow","alignItems","Above","TextField","variant","MyButton","Button","loading","onClick","event","CircularProgress","LOCAL_STORAGE_JWT_KEY","UserModel","userCache","token","localStorage","setItem","payload","decodeToken","this","decodedToken","getItem","getToken","isTokenExpired","categoryUuid","categoryName","removeItem","password","loginResult","errorMessage","text","access_token","saveToken","setUser","window","wasListenerAddedYet","previousValue","addEventListener","key","getCurrentUser","Date","getTime","exp","jwtDecode","currentUserAtom","atom","default","LoadUserOnClientSide","useRecoilState","useEffect","userModel","then","user","addListener","useAuthHeader","late","red","redInfo","redInfoBig","grat","textAlign","table","borderCollapse","borderStyle","borderColor","borderWidth","minWidth","sum","empty","button","buttonContainer","firstry","scondtry","thirdtry","errortry","colorsContainer","flexWrap","tableContainer","ResultPage","submissions","setSubmissions","subMap","Map","i","length","element","get","exercise_uuid","submitted_at","isBefore","set","point","points_earned","lastTry","sequence","forEach","data","endsAt","push","sort","b","isAfter","getSubmissions","subs","catch","err","teamName","map","idx","location","href","formDiv","maxWidth","paddingBottom","endDiv","input","marginBottom","endButon","Excercise","enqueueSnackbar","useSnackbar","setLoading","exercise","sequence_number","points","max_points","order","category_ord","task","description","attachments","title","setData","refresh","setRefresh","timeLeftString","setTimeLeftString","timerStarted","setTimerStarted","triesForTask","setTriesForTask","endOn","setEndOn","counter","end","secs","diff","now","Math","floor","setInterval","completestring","dangerouslySetInnerHTML","__html","src","uri","alt","Divider","Yup","shape","integer","typeError","min","max","required","includes","guess","next","submission","guess_correct","tries","setInfo","WebshopPicture","srcSet","process","picture","webPUrl","jpegOrPngUrl","minHeight","infoElement","position","zIndex","link","alignSelf","cursor","textDecoration","Infos","authHeader","enabledState","setEnabledState","logout","useLogout","checkDeadlines","start","enabled2","exc","setExercise","categoryStart","categoryEnd","maxHeight","format","flex","teamInProgress","teamFinished","createMuiTheme","background","typography","fontFamily","join","xs","sm","md","lg","xl","bg","up","bgDiv","left","right","image","imageDiv","justifyContent","transform","itemDiv","magicBox","Layout","Fragment","ThemeProvider","CssBaseline","maxSnack","Container","Login","forgotPass","setForgotPass","login","loginErrors","useLogin","OneTimeTokenLogin","loginOtt","useLoginOtt","goToFront","Main","info","team","setTeam","setCategory","URLSearchParams","useLocation","search","useCurrentUser","getTeam","getCategory","cat","App","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.336f71e0.chunk.js","sourcesContent":["export const serverUrl = 'https://verseny.durerinfo.hu/api/v1';","import { serverUrl } from \"../constants\";\nimport { Category, Exercise, Submission, Team } from \"./backend-types\"\nimport { useAuthHeader } from \"./user-hooks/user-hooks\";\nimport moment from \"moment\"\n\nexport async function getCurrentExercise(auth: { Authorization: string }): Promise<Exercise | null> {\n    const result = await fetch(`${serverUrl}/exercise/current`, {\n        method: 'GET',\n        headers: { ...auth },\n    });\n    if (!result.ok) return null;\n    try {\n        const res = await result.json();\n        return res;\n    } catch (error) {\n        console.log(result);\n        return null;\n    }\n}\nexport async function getTeam(auth: { Authorization: string }): Promise<Team | null> {\n    try {\n        const result = await fetch(`${serverUrl}/team/my`, {\n            method: 'GET',\n            headers: { ...auth },\n        });\n        if (!result.ok) return null;\n        return await result.json();\n    } catch (error) {\n        console.log(error);\n        return null;\n    }\n}\nexport async function getSubmissions(auth: { Authorization: string }): Promise<Submission[] | null> {\n    try {\n        const result = await fetch(`${serverUrl}/team/my/submissions`, {\n            method: 'GET',\n            headers: { ...auth },\n        });\n        if (!result.ok) return null;\n        return await result.json();\n    } catch (error) {\n        console.log(error);\n        return null;\n    }\n}\nexport async function getCategory(auth: { Authorization: string }, uuid: string): Promise<Category | null> {\n    try {\n        const result = await fetch(`${serverUrl}/category/${uuid}`, {\n            method: 'GET',\n            headers: { ...auth },\n        });\n        if (!result.ok) return null;\n        let raw_obj = await result.json();\n        return {'starts_at': moment(raw_obj.starts_at), 'ends_at': moment(raw_obj.ends_at), 'uuid': raw_obj.category, 'name': raw_obj.name}\n    } catch (error) {\n        console.log(error);\n        return null;\n    }\n}\nexport async function sendEmail(email:string): Promise<string>{\n    try {\n        const result = await fetch(`${serverUrl}/login/team/send-ott`, {\n            method: 'POST', \n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n                email: email,\n            }),\n        });\n        if(result.ok) return \"\";\n        if(result.status === 420) return 'Túl sok próbálkozás!';\n        if(result.status === 403) return 'Tiltott művelet!'\n        else return 'A backenden még nem él az url';\n    } catch(e:any ){\n        console.log(e);\n        return 'Nem sikerült csatlakozni a szerverhez';\n    }\n\n}","import React, { CSSProperties } from 'react';\nimport { Field as FormikField } from 'formik';\n\nexport interface FieldProps {\n    name: string;\n    label?: string | any;\n    componentLabel?: string | any;\n    component: React.FunctionComponent<any>;\n    choices?: any[];\n    className?: string;\n    style?: CSSProperties;\n    componentStyle?: CSSProperties;\n    type?: string;\n    placeholder?: string;\n    labelColor?: 'primary' | 'secondary' | 'default';\n    onChange?: (e: React.ChangeEvent<any>) => void;\n    onBlur?: (e: any) => void;\n    value?: string;\n    helperTextType?: HelperTextType;\n    disabled?: boolean;\n    otherProps?: any;\n    setHasBlured?: () => void;\n}\n\nexport enum HelperTextType {\n    default, noBackground, floating,\n}\n\nexport const Field: React.FunctionComponent<FieldProps> = (props: FieldProps) => {\n    const [hasBlured, setHasBlured] = React.useState(false);\n    return <div className={props.className} style={props.style}>\n        <FormikField name={props.name}>\n            {({\n                  field,\n                  form,\n                  meta\n              }: any) => (\n                <div>\n                    {React.createElement(props.component, {\n                        name: props.name,\n                        label: props.label,\n                        error: (!!meta.touched || hasBlured) && !!meta.error,\n                        helperText: (!!meta.touched || hasBlured) && meta.error,\n                        placeholder: props.placeholder,\n                        onChange: (e: any) => {\n                            if (props.onChange) props.onChange(e);\n                            field.onChange(e);\n                        },\n                        type: props.type,\n                        value: field.value,\n                        disabled: props.disabled,\n                        style: props.componentStyle,\n                        onBlur: () => {\n                            if (!hasBlured)\n                                setHasBlured(true);\n                            if (typeof props.setHasBlured === 'function')\n                                props?.setHasBlured()\n                        },\n                        ...props.otherProps\n                    })}\n                </div>\n            )}\n        </FormikField>\n    </div>;\n};\n\nexport default Field;\n","import { makeStyles } from \"@material-ui/core\";\nimport React from \"react\";\n\nexport interface MyProps extends React.HTMLProps<any> {\n    mainTitle: string;\n    subTitle?: string;\n    rightTitle?: string;\n}\n\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        width: '100%',\n        marginTop: '-120px',\n        overflow: 'hidden',\n        [theme.breakpoints.down(1000)]: {\n            marginTop: '-5px',\n            paddingLeft: '7px',\n            paddingRight: '7px',\n        }\n    },\n    header: {\n        backgroundColor: theme.palette.primary.main,\n        padding: '30px 60px',\n        borderRadius: '30px 30px 0px 0px',\n        color: theme.palette.primary.contrastText,\n    },\n    contentDiv: {\n        backgroundColor: theme.palette.secondary.main,\n        padding: '30px 15px 0px 15px',\n        borderRadius: '0px 0px 30px 30px',\n        color: theme.palette.secondary.contrastText,\n    },\n    mainTitle: {\n        fontSize: '30px',\n    },\n    subTitle: {\n        fontSize: '20px',\n    },\n    rightTitle: {\n        float: 'right',\n    }\n}));\n\nexport const MainBox: React.FunctionComponent<MyProps> = (props: MyProps) => {\n    const classes = useStyles();\n\n    return <div className={classes.root}>\n            <div className={classes.header}>\n                <div className={classes.mainTitle}>\n                    {props.mainTitle}\n                    <span className={classes.rightTitle}>\n                        {props.rightTitle}\n                    </span>\n                </div>\n                <div className={classes.subTitle}>{props.subTitle}</div>\n            </div>\n            <div className={classes.contentDiv}>\n                {props.children}\n            </div>\n        </div>\n}","import React, { CSSProperties } from 'react';\n\nimport { Form as FormikForm, Formik, FormikValues } from 'formik';\n\nexport interface FormProps {\n    initialValues: any;\n    onSubmit: (values: FormikValues, setSubmitting: (arg0: boolean) => void) => void;\n    validationSchema?: any;\n\n    children: React.ReactNode | React.ReactNodeArray;\n\n    className?: string;\n    style?: CSSProperties;\n}\n\n\nconst Form: React.FunctionComponent<FormProps> = (props: FormProps) => {\n    return <div className={props.className} style={props.style}>\n        <Formik initialValues={props.initialValues}\n                validationSchema={props.validationSchema}\n                onSubmit={(values, { setSubmitting, setTouched }) => {\n                    props.onSubmit(values, setSubmitting);\n                }}>\n            <FormikForm>\n                {props.children}\n            </FormikForm>\n        </Formik>\n    </div>;\n};\n\nexport default Form;\n","import { makeStyles, TextField } from \"@material-ui/core\";\nimport React from \"react\";\n\nexport interface MyProps extends React.HTMLProps<any> {\n    labelWhere: LabelType;\n}\n\nexport enum LabelType{\n    Inline, Above\n}\n\n\nconst useStyles = makeStyles(theme => ({\n    inlineInput: {\n        width: '100%',\n        marginLeft: '15px',\n        marginRight: '15px',\n        '& .MuiOutlinedInput-root': {\n            height: '60px',\n            borderRadius: '34px'\n        }\n    },\n    aboveInput: {\n        width: '100%',\n        '& .MuiOutlinedInput-root': {\n            height: '40px',\n            borderRadius: '30px'\n        }\n    },\n    label: {\n        fontSize: '18px',\n        fontWeight: 'bold',\n    }\n}))\n\nexport const MyTextInput: React.FunctionComponent<MyProps> = (props: MyProps) => {\n    const classes = useStyles();\n    const inlineStyle = {display: 'flex', flexFlow: 'row', alignItems: 'center'}\n    const aboveStyle = {display: 'flex', flexFlow: 'column'}\n    const {labelWhere,label, color, size, ref,className, ...otherProps} = props;\n\n    return <div className={className} style={labelWhere===LabelType.Inline?inlineStyle:aboveStyle}>\n        <div style={labelWhere===LabelType.Above?{marginLeft: '30px'}:{}} className={classes.label}>{label}</div>\n        <TextField {...otherProps} variant='outlined' label='' className={labelWhere===LabelType.Inline?classes.inlineInput:classes.aboveInput}/>\n    </div>\n}","import { Button, makeStyles, CircularProgress } from \"@material-ui/core\";\nimport React from \"react\";\n\nexport interface MyProps{\n    label: string;\n    type: \"button\" | \"reset\" | \"submit\" | undefined;\n    loading?: boolean;\n    className?: string;\n    onClick?: (event:any)=>any;\n    disabled?: boolean;\n    color?: string;\n}\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        '&.MuiButton-contained': {\n            height: '60px',\n            borderRadius: '34px',\n            fontSize: '18px',\n        },\n        '&.MuiButton-contained.Mui-disabled': {\n            backgroundColor: '#e0e0e0',\n        }\n    },\n}))\n\nexport const MyButton: React.FunctionComponent<MyProps> = (props: MyProps) => {\n    const classes = useStyles();\n    return <Button disabled={!!props.disabled || props.loading} onClick={(event)=>{if(props.onClick) props.onClick(event)}} color='primary' className={`${classes.root} ${props.className}`} variant='contained' type={props.type} style={props.color?{backgroundColor: props.color}:{}}>\n        {props.loading ? <>{props.label}<CircularProgress size={30} style={{marginLeft: '20px'}}/></>  : props.label}\n    </Button>\n}","import jwtDecode from 'jwt-decode';\nimport { serverUrl } from '../../constants';\nimport { CurrentUser, JwtPayload } from './types';\n\nconst LOCAL_STORAGE_JWT_KEY = 'kjqAEKeFkMpOvOZrzcvp';\n\nexport class UserModel {\n\n    private userCache: { token: string, decodedToken: JwtPayload } | null= null;\n\n    private static isTokenExpired(decodeToken: any): boolean {\n        return new Date().getTime() / 1000 > decodeToken.exp;\n    }\n\n    private static decodeToken(token: string): JwtPayload {\n        return jwtDecode(token) as JwtPayload;\n    }\n\n    private async saveToken(token: string) {\n        localStorage.setItem(LOCAL_STORAGE_JWT_KEY, token);\n\n        const payload = UserModel.decodeToken(token);\n\n        this.userCache = {\n            token: token,\n            decodedToken: payload,\n        };\n    }\n\n    getToken(): string | null {\n        if (typeof localStorage === 'undefined') {\n            return null;\n        }\n\n        const token = localStorage.getItem(LOCAL_STORAGE_JWT_KEY);\n\n        if (!token) {\n            return null;\n        }\n\n        return token;\n    }\n\n    async getCurrentUser(): Promise<CurrentUser | null> {\n        const token = this.getToken();\n\n        if (!token) {\n            return null;\n        }\n\n        if (this.userCache) {\n            if (token === this.userCache.token && !UserModel.isTokenExpired(this.userCache.decodedToken)) {\n                return {\n                    email: this.userCache.decodedToken.email,\n                    categoryUuid: this.userCache.decodedToken.category.uuid,\n                    categoryName: this.userCache.decodedToken.category.name,\n                };\n            }\n\n            this.userCache = null;\n        }\n\n        const payload = UserModel.decodeToken(token);\n        if(UserModel.isTokenExpired(payload)){\n            return null;\n        }\n\n        /*if (UserModel.isTokenExpired(payload)) {\n            localStorage.removeItem(LOCAL_STORAGE_JWT_KEY);\n            return null;\n        }*/\n\n        this.userCache = {\n            token: token,\n            decodedToken: payload,\n        };\n\n        return {\n            email: payload.email,\n            categoryUuid: payload.category.uuid,\n            categoryName: payload.category.name,\n        };\n    }\n\n    isUserLoggedIn(): boolean {\n        const token = this.getToken();\n\n        if (!token) {\n            return false;\n        }\n\n        return !UserModel.isTokenExpired(token);\n    }\n\n    logout() {\n        this.userCache = null;\n        localStorage.removeItem(LOCAL_STORAGE_JWT_KEY);\n    }\n\n    async login(email: string, password: string): Promise<string|null> {\n        const loginResult = await fetch(`${serverUrl}/login/team`, {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n                method: 'email-password',\n                email: email,\n                password: password,\n            }),\n            \n        });\n        if (!loginResult.ok) {\n            const errorMessage = (await loginResult.json() as any)?.error;\n            return errorMessage==='Unauthorized'? 'Hibás email/jelszó': 'Valami hiba történt!';\n        }\n        const access_token =await loginResult.text();\n         //const access_token = 'eyJhbGciOiJSUzUxMiIsInR5cCI6IkpXVCJ9.eyJjYXRlZ29yeSI6eyJuYW1lIjoiT3ZvZGFzIGthdGVnb3JpYSIsInV1aWQiOiIxNTU1YjFlMy1mNzA2LTRkYjgtOTlhNC05ZDY4M2I0M2NlNDIifSwiZW1haWwiOiJ0b21pQGNzaWxsaW5nLmNvbSIsImV4cCI6MTYwNTE0NDI5NSwiaWF0IjoxNjA1MTM4ODk1LCJpc3MiOiJodHRwczovL3ZhbHRvLmR1cmVyaW5mby5odS8iLCJqdGkiOiJYRU1GaHQ5VWZlRlRTQ0lCOXBmZGp3IiwibmJmIjoxNjA1MTM4ODk1LCJzdWIiOiJiZDVhN2U4NS02ZDY5LTQ3MTgtYWZmZi1lNTAwNDk5ODJkMTIifQ.SM8pps10Z62WLgr3ar0fHsoH1OHwZiy5fYJVgLnZkJ4WoUOmE0_0lpr9sJdy9ifTi59xnjJjnAk4h-GH0BrCpdbuOF0dL5nAkWysFRnVWt6c0rHPL6ZCE_M87gnvrIzLBwN0kmqnpZ5vc0W8bXXccwNIU94siibFWBv9wDgllXdg8q7ZQek5wpu30BsCYHsr0VA8zSco8rGwJscfqimHt93qkrXzQ0vpvxplBYsQauIQINHNhkR9_xO0uZ3EX-PtHKh0moyCvsJfZ8Tjdf6MTZuNODCr5ejE_us5htw_4dcFDzgQUxv5hPsIyiqmQsbMXlsMFjPgJ68rnuW8S0kxD0bD8oPixb1AOg5SJvYl-OvdgsnbRfS3J0SlqthnRM867yWn0tNXFAR-MK8UmdzOxfjcyT36M0Wn4UL0juNRM-QEHVbFvA8byfhE3lodYLLvNOwusc_bh9db_Y3o-WdPOP278E1RpRuutgBwLhcA22ciCGhgEvxSdsKbNkbCSXLO3PVBHy4yu6pfcTOXZQekgwGno82u3tm1cPrsj8N6CuISayVNmV9F9iX6_ByyngEwpANT15o9OPrUz2tHJ6NWzxEnFjr39mV4xKt8Z-ONJ-smzhzTPxaVpWit5erP0xGXBBln6xE5GjQetNtpFYbNFSS-4SrU5FDNnOT8IinjUS0';//this.jwtService.sign(payload, { expiresIn: '1 days' });\n\n        //const { access_token } = ;//await loginResult.json();\n\n        await this.saveToken(access_token);\n\n        return null;\n    }\n\n    async loginOtt(email: string, token: string): Promise<string|null> {\n        const loginResult = await fetch(`${serverUrl}/login/team`, {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n                method: 'one-time-token',\n                email: email,\n                token: token,\n            }),\n            \n        });\n        if (!loginResult.ok) {\n            const errorMessage = (await loginResult.json() as any)?.error;\n            return errorMessage==='Unauthorized'? 'Hibás email': (errorMessage === 'Token not found'? 'Nem létező token':'Valami hiba történt!');\n        }\n        const access_token =await loginResult.text();\n         //const access_token = 'eyJhbGciOiJSUzUxMiIsInR5cCI6IkpXVCJ9.eyJjYXRlZ29yeSI6eyJuYW1lIjoiT3ZvZGFzIGthdGVnb3JpYSIsInV1aWQiOiIxNTU1YjFlMy1mNzA2LTRkYjgtOTlhNC05ZDY4M2I0M2NlNDIifSwiZW1haWwiOiJ0b21pQGNzaWxsaW5nLmNvbSIsImV4cCI6MTYwNTE0NDI5NSwiaWF0IjoxNjA1MTM4ODk1LCJpc3MiOiJodHRwczovL3ZhbHRvLmR1cmVyaW5mby5odS8iLCJqdGkiOiJYRU1GaHQ5VWZlRlRTQ0lCOXBmZGp3IiwibmJmIjoxNjA1MTM4ODk1LCJzdWIiOiJiZDVhN2U4NS02ZDY5LTQ3MTgtYWZmZi1lNTAwNDk5ODJkMTIifQ.SM8pps10Z62WLgr3ar0fHsoH1OHwZiy5fYJVgLnZkJ4WoUOmE0_0lpr9sJdy9ifTi59xnjJjnAk4h-GH0BrCpdbuOF0dL5nAkWysFRnVWt6c0rHPL6ZCE_M87gnvrIzLBwN0kmqnpZ5vc0W8bXXccwNIU94siibFWBv9wDgllXdg8q7ZQek5wpu30BsCYHsr0VA8zSco8rGwJscfqimHt93qkrXzQ0vpvxplBYsQauIQINHNhkR9_xO0uZ3EX-PtHKh0moyCvsJfZ8Tjdf6MTZuNODCr5ejE_us5htw_4dcFDzgQUxv5hPsIyiqmQsbMXlsMFjPgJ68rnuW8S0kxD0bD8oPixb1AOg5SJvYl-OvdgsnbRfS3J0SlqthnRM867yWn0tNXFAR-MK8UmdzOxfjcyT36M0Wn4UL0juNRM-QEHVbFvA8byfhE3lodYLLvNOwusc_bh9db_Y3o-WdPOP278E1RpRuutgBwLhcA22ciCGhgEvxSdsKbNkbCSXLO3PVBHy4yu6pfcTOXZQekgwGno82u3tm1cPrsj8N6CuISayVNmV9F9iX6_ByyngEwpANT15o9OPrUz2tHJ6NWzxEnFjr39mV4xKt8Z-ONJ-smzhzTPxaVpWit5erP0xGXBBln6xE5GjQetNtpFYbNFSS-4SrU5FDNnOT8IinjUS0';//this.jwtService.sign(payload, { expiresIn: '1 days' });\n\n        //const { access_token } = ;//await loginResult.json();\n\n        await this.saveToken(access_token);\n\n        return null;\n    }\n\n    private static wasListenerAddedYet = false;\n\n    addListener(setUser: (user: CurrentUser | null) => void) {\n        if (typeof window !== 'undefined' && !UserModel.wasListenerAddedYet) {\n            UserModel.wasListenerAddedYet = true;\n            let previousValue:CurrentUser | null = null;\n            window.addEventListener('storage', async event => {\n                if (event?.key !== LOCAL_STORAGE_JWT_KEY) {\n                    return;\n                }\n\n                const value = await this.getCurrentUser();\n\n                if (previousValue !== value) {\n                    setUser(value);\n                    previousValue = value;\n                }\n            });\n        }\n    }\n}\n\n","import { atom, useRecoilState } from 'recoil';\nimport { useEffect } from 'react';\nimport { UserModel } from './user-model';\nimport { CurrentUser } from './types';\n\nconst RECOIL_KEY_CURRENT_USER = 'current-user';\n\n// TODO User interface\nexport const currentUserAtom = atom<CurrentUser | null>({\n    key: RECOIL_KEY_CURRENT_USER,\n    default: null\n});\n\n// this component has no visuals, it only mutates the currentUser atom\nexport const LoadUserOnClientSide = () => {\n    const [user, setUser] = useRecoilState(currentUserAtom);\n\n    useEffect(() => {\n        if (typeof window === 'undefined') {\n            return;\n        }\n\n        const userModel = new UserModel();\n\n        userModel\n            .getCurrentUser()\n            .then(user => {\n                setUser(user);\n            });\n\n        userModel.addListener(setUser);\n    }, []);\n\n    return null;\n};\n","import { CurrentUser } from \"./types\";\nimport { UserModel } from \"./user-model\";\nimport { useRecoilState } from 'recoil';\nimport { currentUserAtom } from './user-atom';\n\nconst userModel = new UserModel();\n\nexport const useCurrentUser = (): CurrentUser|null => {\n    const [user, setUser] = useRecoilState(currentUserAtom);\n\n    return user;\n};\n\nexport const useLogin = () => {\n    const [user, setUser] = useRecoilState(currentUserAtom);\n\n    return async (email: string, password: string) => {\n        const loginErrors = await userModel.login(email, password);\n\n        if (!loginErrors) {\n            const user = await userModel.getCurrentUser();\n            setUser(user);\n        }\n\n        return loginErrors;\n    };\n};\n\nexport const useLoginOtt = () => {\n    const [user, setUser] = useRecoilState(currentUserAtom);\n\n    return async (email: string, token: string) => {\n        const loginErrors = await userModel.loginOtt(email, token);\n\n        if (!loginErrors) {\n            const user = await userModel.getCurrentUser();\n            setUser(user);\n        }\n\n        return loginErrors;\n    };\n};\n\nexport const useLogout = () => {\n    const [user, setUser] = useRecoilState(currentUserAtom);\n    return () => {\n        userModel.logout();\n        setUser(null);\n    };\n};\n\nexport const useAuthHeader = (): { Authorization: string } => {\n    // this is only here, to refresh the token, whenever the user changes\n    const [user, setUser] = useRecoilState(currentUserAtom);\n\n    const token = userModel.getToken();\n    return {\n        'Authorization': `Bearer ${token}`\n    };\n};","import { makeStyles } from \"@material-ui/core\";\nimport moment from \"moment\";\nimport React, { useEffect, useState } from \"react\";\nimport { getSubmissions } from \"./backend-calls\";\nimport { Submission } from \"./backend-types\";\nimport { MainBox } from \"./main-box\";\nimport { MyButton } from \"./mybutton\";\nimport { useAuthHeader } from \"./user-hooks/user-hooks\";\nconst useStyles = makeStyles(theme => ({\n    late: {\n        color: '#d50000',\n        fontSize: '11px',\n        [theme.breakpoints.down(1200)]:{\n            display: 'none',\n        }\n    },\n    red: {\n        color: '#d50000',\n    },\n    redInfo:{\n        display: 'none',\n        color: '#d50000',\n        fontSize: '11px',\n        [theme.breakpoints.down(1200)]:{\n            display: 'block',\n        }\n    },\n    redInfoBig:{\n        color: '#d50000',\n        fontSize: '14px',\n        marginLeft: '55px',\n    },\n    grat: {\n        fontSize: '18px',\n        fontWeight: 'bold',\n        textAlign: 'center',\n    },\n    table: {\n        marginTop: '20px',\n        marginLeft:'10px',\n        borderCollapse: 'collapse',\n        fontSize: '18px',\n        ['& td']:{\n            borderStyle: 'solid',\n            borderColor: '#000',\n            borderWidth: '1px',\n            textAlign: 'center',\n            padding: '5px',\n            minWidth: '40px',\n            [theme.breakpoints.down(800)]:{\n                minWidth: '0px',\n                padding: '0px',\n            }\n        },\n        [theme.breakpoints.down(1200)]:{\n            width: '100%',\n            marginLeft:'0px',\n        },\n\n        [theme.breakpoints.down(800)]:{\n            fontSize: '11px',\n        }\n    },\n    sum: {\n        fontSize: '18px',\n        fontWeight: 'bold',\n        marginTop: '35px',\n        marginLeft: '55px',\n    },\n    empty: {\n        height: '25px',\n    },\n    button: {\n        marginTop: '10px',\n        width: '250px'\n    },\n    buttonContainer: {\n        width:'100%',\n        display: 'flex',\n        flexFlow: 'column',\n        alignItems: 'center',\n\n    },\n    firstry: {\n        backgroundColor: '#3fc523',\n    },\n    scondtry: {\n        backgroundColor: '#9beb53',\n    },\n    thirdtry: {\n        backgroundColor: '#d5eb42',\n    },\n    errortry: {\n        backgroundColor: '#ee5555',\n    },\n    colorsContainer:{\n        marginTop: '25px',\n        display: 'flex',\n        alignItems: 'center',\n        flexWrap: 'wrap',\n        ['& div']: {\n            width: '40px',\n            height: '40px',\n            marginRight: '7px',\n        },\n        ['& span']: {\n            marginRight: '25px'\n        }\n    },\n    tableContainer:{\n        display: 'flex',\n        flexFlow: 'column',\n        alignItems: 'center',\n    }\n}));\nexport interface Props {\n    endsAt: moment.Moment;\n    teamName: string;\n    setInfo: (val:boolean)=>any;\n}\n\nexport const ResultPage:React.FunctionComponent<Props> = (props:Props) => {\n    const classes = useStyles();\n    const [submissions, setSubmissions] = useState([] as Submission[]);\n    const subMap:Map<string, {point:number, submitted_at: string, lastTry: number}> = new Map();\n    for(let i = 0 ; i<submissions.length; i++){\n        const element = subMap.get(submissions[i].exercise_uuid);\n        if(!element) {\n            subMap.set(submissions[i].exercise_uuid, \n                {point: submissions[i].points_earned, submitted_at: submissions[i].submitted_at, lastTry: submissions[i].sequence});\n        } else {\n            if(moment(element.submitted_at).isBefore(moment(submissions[i].submitted_at))){\n                subMap.set(submissions[i].exercise_uuid,\n                     {point: submissions[i].points_earned, submitted_at: submissions[i].submitted_at, lastTry: submissions[i].sequence});\n            }\n        }\n    }\n    const table:{point:number, submitted_at: string, lastTry: number}[] = [];\n    let sum = 0;\n    subMap.forEach(data=>{\n        if(moment(data.submitted_at).isBefore(props.endsAt)){\n            sum += data.point;\n        }\n        table.push(data);\n    });\n    table.sort((a,b)=>{\n        if(moment(a.submitted_at).isAfter(moment(b.submitted_at))) return 1;\n        return -1;\n    });\n    const auth = useAuthHeader();\n    useEffect(()=>{\n        getSubmissions(auth).then(subs=>{\n            if(subs != null){\n                setSubmissions(subs);\n            }\n        }).catch(err=>{\n            console.log(err);\n        });\n    }, [])\n    return <MainBox mainTitle={'Eredmények'} subTitle={props.teamName}>\n        <div className={classes.grat}>Gratulálunk a verseny befejezéséhez</div>\n        <div className={classes.tableContainer}>\n        <table className={classes.table}>\n            <tr>\n                <td>Feladat</td>\n                {table.map((data, idx)=><td className={moment(data.submitted_at).isAfter(props.endsAt)?classes.red:''}>\n                    {idx+1}.{moment(data.submitted_at).isAfter(props.endsAt)?<span className={classes.late}>Időn túli megoldás</span>:''}\n                </td>)}\n            </tr>\n            <tr>\n                <td>Pontszám</td>\n                {table.map((data, idx)=>{\n                    let className = classes.errortry;\n                    if(data.point>0){\n                        switch(data.lastTry){\n                            case 0: \n                                className = classes.firstry; break;\n                            case 1: \n                                className = classes.scondtry; break;\n                            case 2: \n                                className = classes.thirdtry; break;\n                        }\n                    }\n                return <td className={className}>\n                    {data.point}\n                </td>})}\n            </tr>\n        </table>\n        <div className={classes.redInfo}>\n             A piros sorszámmal jelölt feladatok időn túl lettek leadva\n        </div>\n        <div className={classes.colorsContainer}>\n            <div className={classes.firstry}></div>\n            <span>1. próbálkozás</span>\n            <div className={classes.scondtry}></div>\n            <span>2. próbálkozás</span>\n            <div className={classes.thirdtry}></div>\n            <span>3. próbálkozás</span>\n            <div className={classes.errortry}></div>\n            <span>hibás válasz</span>\n        </div>\n        </div>\n        <div className={classes.sum}>\n             Összpontszám: {sum}\n        </div>\n        <div className={classes.redInfoBig}>\n             Ez egy előzetes eredmény, még le fogjuk ellenőrizni a válaszaitokat, és előfordulhat, hogy változik a pontszám (bármelyik irányba). \n        </div>\n        <div className={classes.buttonContainer}>\n            <MyButton className={classes.button} type='button' label={'Szuper!'}  onClick={()=>{window.location.href = '/';}}/>\n        </div>\n        <div className={classes.empty}>\n        </div>\n    </MainBox>;\n}","import React, { useEffect, useState } from \"react\";\nimport { MainBox } from \"./main-box\";\n//import Latex from 'react-latex-next';\nimport { Divider, makeStyles } from '@material-ui/core';\nimport Form from './form/form';\nimport * as Yup from 'yup';\nimport Field from './form/field';\nimport { LabelType, MyTextInput } from \"./mytext-input\";\nimport { MyButton } from \"./mybutton\";\nimport { Exercise, Submission } from \"./backend-types\";\nimport { serverUrl } from \"../constants\";\nimport { useSnackbar } from \"notistack\";\nimport { ResultPage } from \"./result-page\";\nimport moment from \"moment\";\n\n\nexport interface MyProps {\n  exercise: Exercise;\n  auth: { Authorization: string };\n  endsAt: moment.Moment;\n  teamName: string;\n  setInfo: (val:boolean)=>any;\n}\n\nconst useStyles = makeStyles(theme => ({\n  formDiv: {\n    display: 'flex',\n    maxWidth: 'fit-content',\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    flexWrap: 'wrap',\n    alignItems: 'center',\n    paddingBottom: '10px',\n  },\n  endDiv: {\n    display: 'flex',\n    maxWidth: '350px',\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    flexWrap: 'wrap',\n    alignItems: 'center',\n    paddingBottom: '10px',\n    [theme.breakpoints.down(650)]: {\n      maxWidth: '100%',\n    }\n  },\n  input: {\n    width: '300px',\n    [theme.breakpoints.down(1000)]: {\n      marginBottom: '15px',\n      width: '100%',\n    }\n  },\n  endButon:{\n    width: '300px',\n    marginLeft: '15px',\n    [theme.breakpoints.down(1000)]: {\n      marginBottom: '15px',\n      width: '100%',\n      marginLeft: '0px',\n    }\n  },\n  button: {\n    width: '50%',\n    [theme.breakpoints.down(650)]: {\n      width: '100%',\n    }\n  }\n}))\n\nexport const Excercise: React.FunctionComponent<MyProps> = (props: MyProps) => {\n  const { enqueueSnackbar } = useSnackbar();\n  const classes = useStyles();\n  const [loading, setLoading] = useState(false);\n  const [data, setData] = useState({\n    sequence: props.exercise.sequence_number, points: props.exercise.max_points-props.exercise.sequence_number,\n    order: props.exercise.category_ord, task: props.exercise.description,\n    attachments: props.exercise.attachments, title: props.exercise.title,\n    exercise_uuid: props.exercise.uuid\n  });\n  const [refresh, setRefresh] = useState(false);\n  const [timeLeftString, setTimeLeftString] = useState('');\n  const [timerStarted, setTimerStarted] = useState(false);\n  const [triesForTask, setTriesForTask] = useState([] as number[]);\n  const [endOn, setEndOn] = useState(false);\n\n  const counter = (end:moment.Moment)=> {\n    const secs = end.diff(moment.now(), \"seconds\");\n    if(secs<0 && !endOn){\n      setEndOn(true);\n    }\n    setTimeLeftString(`${Math.floor(secs/60)>9?Math.floor(secs/60):'0'+Math.floor(secs/60)} : ${secs%60>9?secs%60:'0'+secs%60}`);\n  }\n  useEffect(()=>{\n    if(!timerStarted&&props.endsAt){\n      setInterval(counter, 1000, props.endsAt);\n      setTimerStarted(true);\n    }\n  }, [props.endsAt])\n  const completestring = `<latex-js hyphenate=\"false\">${data.task}\n</latex-js>`;\n  if(!data.exercise_uuid){\n    return <ResultPage endsAt={props.endsAt} teamName={props.teamName} setInfo={props.setInfo}/>;\n  }\n  //const timeLeftString = props.endsAt.diff(moment.now(), \"seconds\");\n  return <MainBox mainTitle={`${data.order + 1}.feladat: ${data.title}`} rightTitle={`${props.endsAt?.isAfter(moment.now())?`Hátralévő idő: ${timeLeftString}`:'Lejárt az idő'}`} subTitle={`${data.sequence + 1}. próba, ${data.points} pontért`}>\n    <div dangerouslySetInnerHTML={{ __html: completestring }} />\n    {data.attachments?.map(element => {\n      return <img src={element.uri} style={{maxWidth:'80%', display: 'flex', marginLeft:'auto', marginRight: 'auto'}} alt={'feladatKép (ha nem töltött be próbáld frissíteni az oldalt)'}/>;\n    })}\n    <Divider variant=\"middle\" style={{ marginTop: '10px', marginBottom: '10px' }} />\n    <Form initialValues={{ result: '' }} validationSchema={Yup.object().shape({\n      result: Yup.number().integer('Egész számot kell írni').typeError('Számot kell írnod').min(1, 'A válasz 1 és 9999 között van').max(9999, 'A válasz 1 és 9999 között van').required('Nem írtál semmi választ!')\n    })}\n      onSubmit={async (values) => {\n        setLoading(true);\n        if(triesForTask.includes(values.result)){\n          enqueueSnackbar('Ezt a választ már próbáltátok', { variant: 'error' });\n          setLoading(false);\n          return;\n        }\n        try{\n          const result = await fetch(`${serverUrl}/submit`, {\n            method: 'PUT',\n            headers: { 'Content-Type': 'application/json', ...props.auth },\n            body: JSON.stringify({\n              exercise_uuid: data.exercise_uuid,\n              guess: values.result,\n              sequence: data.sequence,\n            }),\n          });\n          if (!result.ok) {\n            enqueueSnackbar((await result.json() as any)?.error || 'Hiba a beküldés során!', { variant: 'error' });\n            values.result = '';\n            setRefresh(!refresh);\n            setLoading(false);\n            return;\n          }\n          const next = await result.json();\n          const exercise = next?.next;\n          if(next?.submission?.guess_correct){\n            setTriesForTask([] as number[]);\n            enqueueSnackbar('A válasz helyes volt', { variant: 'success' });\n          }else{\n            if(exercise?.uuid === data.exercise_uuid){\n              const tries = triesForTask;\n              tries.push(values.result);\n              setTriesForTask(tries);\n            } else {\n              setTriesForTask([] as number[]);\n            }\n            enqueueSnackbar('A válasz sajnos nem volt jó', { variant: 'error' });\n          }\n          if(exercise?.title){\n            setData({\n              sequence: exercise.sequence_number, points: exercise.max_points-exercise.sequence_number,\n              order: exercise.category_ord, task: exercise.description,\n              attachments: exercise.attachments || [], title: exercise.title,\n              exercise_uuid: exercise.uuid\n            })\n          }\n          else{\n            setData({\n              sequence: 0, points: 0,\n              order: 0, task: `Végig értetek a feladatokon`,\n              attachments: [], title: '',\n              exercise_uuid: ''\n            })\n          }\n          values.result = '';\n          setRefresh(!refresh)\n          setLoading(false);\n        } catch (e){\n          enqueueSnackbar('Hiba a beküldés során! Próbáld újratölteni az oldalt', { variant: 'error' });\n          setLoading(false);\n        }\n      }}>\n      <div className={classes.formDiv}>\n        <Field name=\"result\"\n          key={`resInput${refresh}`}\n          type=\"text\"\n          component={MyTextInput}\n          label=\"Válasz:\"\n          otherProps={{ labelWhere: LabelType.Inline }}\n          className={classes.input}\n        />\n        <MyButton type=\"submit\" className={classes.input} label=\"Beküld\" loading ={loading}/>\n        { endOn && \n          <MyButton type=\"button\" className={classes.endButon} label=\"Befejezés\" onClick={()=>{window.location.href = '/';}} color='#E3998A'/>\n        }\n      </div>\n    </Form>\n  </MainBox>;\n}","import React from 'react';\n\ninterface PictureProps {\n    picture: Picture;\n    style?: React.CSSProperties;\n    className?: string;\n}\n\nexport interface Picture {\n    webPUrl: string;\n    jpegOrPngUrl: string;\n    alt: string;\n    title: string;\n}\n\nexport const WebshopPicture: React.FunctionComponent<PictureProps> = (props: PictureProps) => {\n    return <picture>\n        <source srcSet={`${process.env.PUBLIC_URL}${props.picture?.webPUrl}`} type=\"image/webp\"/>\n        <img style={props.style}\n             className={props.className}\n             src={`${process.env.PUBLIC_URL}${props.picture?.jpegOrPngUrl}`}\n             alt={props.picture.alt}\n             title={props.picture?.title}/>\n    </picture>;\n};\n","import React, { useEffect, useState } from \"react\";\nimport { makeStyles } from '@material-ui/core';\nimport { WebshopPicture } from \"./picture-component\";\nimport { MyButton } from \"./mybutton\";\nimport moment from 'moment';\nimport { useAuthHeader, useLogout } from \"./user-hooks/user-hooks\";\nimport { EndOfLineState } from \"typescript\";\nimport { Exercise } from \"./backend-types\";\nimport { getCurrentExercise } from \"./backend-calls\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%',\n    padding: '30px 60px',\n    borderRadius: '30px',\n    color: theme.palette.secondary.contrastText,\n    marginTop: '-120px',\n    overflow: 'hidden',\n    backgroundColor: '#fff',\n    maxWidth: '700px',\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    [theme.breakpoints.down(700)]: {\n        marginLeft: '7px',\n        marginRight: '7px',\n        width: 'calc(100% - 14px)',\n    },\n    [theme.breakpoints.down(1000)]: {\n        marginTop: '-5px',\n    }\n  },\n  formDiv: {\n    width: 'calc(100% - 20px)',\n    minHeight: '320px',\n    display: 'flex',\n    marginLeft: '10px',\n    flexFlow: 'column',\n    marginRight: '10px',\n    flexWrap: 'wrap',\n    alignItems: 'left',\n    paddingBottom: '10px',\n  },\n  infoElement: {\n    fontSize: '15px',\n    marginBottom: '15px',\n  },\n  element: {\n    width: '100%',\n    marginBottom: '20px',\n  },\n  picture: {\n    width: '550px',\n    position: 'relative',\n    zIndex: 1,\n    marginLeft: '55%',\n    marginTop: '-200px'\n  },\n  link: {\n    alignSelf: 'start',\n    color: '#3B2E2E',\n    cursor: 'pointer',\n    textDecoration: 'underline',\n    ['&:hover']:{\n      color: '#707070'\n    }\n  }\n}))\n\nexport interface Props{\n  teamName:string;\n  categoryName: string;\n  categoryStart: moment.Moment;\n  categoryEnd: moment.Moment;\n  setInfo: (val:boolean)=>any;\n  teamInProgress: boolean;\n  teamFinished: boolean;\n  exercise:Exercise;\n  setExercise: (val:Exercise)=>any;\n}\n\nexport const Infos = (props:Props) => {\n  const authHeader = useAuthHeader();\n  const [timerStarted, setTimerStarted] = useState(false);\n  const [enabledState, setEnabledState] = useState(false);\n  const logout = useLogout();\n  const classes = useStyles();\n  const checkDeadlines = (start:moment.Moment, end: moment.Moment)=> {\n  let now = moment();\n  let enabled2 = start?.isBefore(now) && end?.isAfter(now);\n  if(enabled2 !== enabledState ){\n    console.log('ratatata');\n    if(enabled2){\n      console.log('insidejoke');\n      getCurrentExercise(authHeader).then(exc => {\n        if(exc!==null){\n          props.setExercise(exc);\n        } else {\n          props.setExercise({} as Exercise)\n        }\n        setEnabledState(enabled2);\n      });\n    } else{\n      setEnabledState(enabled2);\n    }\n  } \n}\nuseEffect(()=>{\n  props.setExercise({}as Exercise);\n  if(!timerStarted && props.categoryStart){\n    setInterval(checkDeadlines, 1000,props.categoryStart, props.categoryEnd);\n    setTimerStarted(true);\n  }\n}, [props.categoryStart])\n\nreturn <div className={classes.root} style={{maxHeight: '400px'}}>\n  <div style={{position: \"relative\", zIndex: 2, minHeight: '320px'}}>\n                  <div className={classes.formDiv}>\n                    <div className = {classes.infoElement}><b>Csapatnév:</b> {props.teamName}</div>\n                    <div className = {classes.infoElement}><b>Kategória:</b> {props.categoryName}</div>\n                    <div className = {classes.infoElement}><b>Kitöltés kezdete:</b> {props.categoryStart?.format(\"YYYY:MM:DD HH:mm\")}</div>\n                    <div className = {classes.infoElement}><b>Kitöltés vége:</b> {props.categoryEnd?.format(\"YYYY:MM:DD HH:mm\")}</div>\n                    <div style={{display: 'flex', flex: 1}}></div>\n                      <MyButton type='button' label={props.teamInProgress?\"Kitöltés folytatása\":(props.teamFinished?\"Eredmények megtekintése\":\"Kitöltés megkezdése\")} onClick={(event:any)=>{props.setInfo(false)}}\n                          className = {classes.element} disabled={!enabledState && !props.teamFinished}/>\n                  <a className={classes.link} onClick={()=>{logout()}}>\n                    Kijelentkezés\n                  </a>\n                  </div>\n                </div>\n          <WebshopPicture className={classes.picture} picture={{webPUrl: '/logo_kicsik_nagyok.png', jpegOrPngUrl: '/logo_kicsik_nagyok.png', alt: 'login', title: 'login'}}/>\n      </div>;\n}","import { createMuiTheme } from '@material-ui/core/styles';\n\n// Create a theme instance.\nconst theme = createMuiTheme({\n    palette: {\n        primary: {\n            main: '#D7B221',\n            contrastText: '#fff'\n        },\n        secondary: {\n            main: '#fff',\n            contrastText: '#3B2E2E'\n        },\n        background: {\n            default: '#DCBC88'\n        }\n    },\n    typography: {\n        fontFamily: [\n            'Poppins',\n            '-apple-system',\n            'sans-serif'\n        ].join(',')\n    },\n    breakpoints: {\n        values: {\n            xs: 0,\n            sm: 600,\n            md: 960,\n            lg: 1280,\n            xl: 1920,\n        },\n    },\n});\n\nexport default theme;\n","import React from 'react';\nimport theme from './theme';\nimport { SnackbarProvider } from 'notistack';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport { CssBaseline, makeStyles } from '@material-ui/core';\nimport Container from '@material-ui/core/Container';\nimport { WebshopPicture } from './picture-component';\nexport interface MyProps extends React.HTMLProps<any> {\n}\nconst useStyles = makeStyles((theme: any) => ({\n    bg: {\n        display: 'none',\n        [theme.breakpoints.up(1400)]: {\n            display: 'block'\n        },\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        'filter': 'blur(20px)',\n        '-webkit-filter': 'blur(20px)',\n        width: '100%',\n        transform: 'scale(1.1)'\n    },\n    bgDiv: {\n        height: '100%',\n        zIndex: 0,\n        position: 'relative',\n        overflow: 'hidden'\n    },\n    root: {\n        [theme.breakpoints.up(1400)]: {\n            left: '50%',\n            marginLeft: '-50%',\n            marginRight: '-50%',\n            maxWidth: '100%',\n            position: 'relative',\n            right: '50%',\n            width: '100%'\n        }\n    },\n    image: {\n        maxWidth: '100%',\n        width: '1400px',\n        marginBottom: '-5px',\n        height: 'auto',\n        marginLeft: 'auto',\n        marginRight: 'auto',\n        zIndex: 20,\n        marginTop: '-7%',\n        [theme.breakpoints.up(1400)]: {\n            marginBottom: '-5px',\n            height: 'auto',\n            width: '1400px',\n            maxWidth: '100%',\n            marginTop: '-100px',\n        },\n        [theme.breakpoints.down(1000)]: {\n            marginTop: '0px',\n            marginBottom: '-5px',\n            height: 'auto',\n            width: '100%',\n            maxWidth: '100%',\n        }\n    },\n    imageDiv: {\n        display: 'flex',\n        justifyContent: 'center',\n        transform: 'translate(0%, -100%)'\n    },\n    itemDiv: {\n        display: 'flex',\n        justifyContent: 'center'\n    },\n    magicBox: {\n        [theme.breakpoints.down(1000)]: {\n            height: '0px',\n            marginTop: '0px',\n        },\n        width: '100%',\n        zIndex: 2,\n        position: 'relative',\n        marginTop: '-49px',\n        backgroundColor: '#DCBC88',\n        height: '50px',\n    }\n}));\n\nexport const Layout: React.FunctionComponent<MyProps> = (props: MyProps) => {\n    const classes = useStyles();\n    return <React.Fragment>\n        <ThemeProvider theme={theme}>\n            <CssBaseline/>\n            <SnackbarProvider maxSnack={3}>\n                <div className={classes.root}>\n                <div className={classes.itemDiv}>\n                <div style={{ width: '100%', zIndex: 1, position: 'relative'}}>\n                    <div className={classes.bgDiv}>\n                        <WebshopPicture className={classes.bg} picture={{webPUrl: '/csakszoveg.webp', jpegOrPngUrl: '/csakszoveg.jpg', alt: 'header', title: 'header'}}/>\n                    </div>\n                    <div className={classes.imageDiv}>\n                        <WebshopPicture className={classes.image} picture={{webPUrl: '/csakszoveg.webp', jpegOrPngUrl: '/csakszoveg.jpg', alt: 'header', title: 'header'}}/>\n                    </div>\n                </div>\n                </div>\n                </div>\n                <div className={classes.magicBox}>\n                </div>\n                <Container style={{ paddingLeft: 0, paddingRight: 0, zIndex: 3, position: 'relative', paddingBottom: '50px', maxWidth: '1200px' }}>\n                    <div>\n                        {props.children}\n                    </div>\n                </Container>\n            </SnackbarProvider>\n        </ThemeProvider>\n    </React.Fragment>;\n};\n","import React, { useState } from \"react\";\nimport { Button, Divider, Link, makeStyles, Snackbar, TextField } from '@material-ui/core';\nimport Form from './form/form';\nimport * as Yup from 'yup';\nimport Field from './form/field';\nimport { LabelType, MyTextInput } from \"./mytext-input\";\nimport { MyButton } from \"./mybutton\";\nimport { useLogin } from \"./user-hooks/user-hooks\";\nimport { useSnackbar } from 'notistack';\nimport { WebshopPicture } from \"./picture-component\";\nimport { sendEmail } from \"./backend-calls\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%',\n    padding: '30px 60px',\n    borderRadius: '30px',\n    color: theme.palette.secondary.contrastText,\n    marginTop: '-120px',\n    overflow: 'hidden',\n    backgroundColor: '#fff',\n    maxWidth: '700px',\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    [theme.breakpoints.down(700)]: {\n        marginLeft: '7px',\n        marginRight: '7px',\n        width: 'calc(100% - 14px)',\n    },\n    [theme.breakpoints.down(1000)]: {\n        marginTop: '-5px',\n    }\n  },\n  formDiv: {\n    width: 'calc(100% - 20px)',\n    display: 'flex',\n    marginLeft: '10px',\n    flexFlow: 'column',\n    marginRight: '10px',\n    flexWrap: 'wrap',\n    alignItems: 'center',\n    paddingBottom: '10px',\n  },\n  element: {\n    width: '100%',\n    marginBottom: '20px',\n  },\n  picture: {\n    width: '550px',\n    position: 'relative',\n    zIndex: 1,\n    marginLeft: '55%',\n    marginTop: '-200px'\n  },\n  link: {\n    alignSelf: 'start',\n    color: '#3B2E2E',\n    cursor: 'pointer',\n    textDecoration: 'underline',\n    ['&:hover']:{\n      color: '#707070'\n    }\n  }\n}))\n\nexport const Login = () => {\nconst [forgotPass, setForgotPass] = useState(0);\nconst [loading, setLoading] = useState(false);\nconst { enqueueSnackbar } = useSnackbar();\nconst classes = useStyles();\nconst login= useLogin();\nreturn <div className={classes.root} style={{maxHeight: '400px'}}>\n  {forgotPass==0 && <Form style={{position: \"relative\", zIndex: 2}} initialValues={{email:'', password: ''}} validationSchema={Yup.object().shape({\n            email: Yup.string()\n            .email('Érvénytelen email formátum')\n            .required('E-mail kitöltése kötelező'),\n          })}\n                  onSubmit={async (values) => {\n                    setLoading(true);\n                    const res = await login(values.email, values.password);\n                    if(res){\n                      enqueueSnackbar(res, { variant: 'error' });\n                    }\n                    setLoading(false);\n                  }}>\n                  <div className={classes.formDiv}>\n                  <Field name=\"email\"\n                         type=\"text\"\n                         component={MyTextInput}\n                         label=\"E-mail\"\n                         otherProps = {{labelWhere: LabelType.Above}}\n                         className = {classes.element}\n                  />\n                  <Field name=\"password\"\n                         type=\"password\"\n                         component={MyTextInput}\n                         label=\"jelszó\"\n                         otherProps = {{labelWhere: LabelType.Above}}\n                         className = {classes.element}\n                  />\n                  <MyButton type=\"submit\" label=\"Belépés\" loading={loading}\n                         className = {classes.element}/>\n                  <a className={classes.link} onClick={()=>{setForgotPass(1)}}>\n                    Elfelejtettem a jelszavam\n                  </a>\n                  </div>\n          </Form>}\n          {forgotPass==1 && <Form style={{position: \"relative\", zIndex: 2}} initialValues={{email:''}} validationSchema={Yup.object().shape({\n            email: Yup.string()\n            .email('Érvénytelen email formátum')\n            .required('Email szükséges'),\n          })}\n                  onSubmit={async (values) => {\n                    setLoading(true);\n                    const res = await sendEmail(values.email);\n                    if(res){\n                      enqueueSnackbar(res, { variant: 'error' });\n                    }\n                    else {\n                      enqueueSnackbar(\"Az emailt sikeresen elküldtük!\", { variant: 'success' });\n                      window.location.href = '/';\n                    }\n                    setLoading(false);\n                  }}>\n                  <div className={classes.formDiv}>\n                  <Field name=\"email\"\n                         type=\"text\"\n                         component={MyTextInput}\n                         label=\"E-mail\"\n                         otherProps = {{labelWhere: LabelType.Above}}\n                         className = {classes.element}\n                  />\n                  <MyButton type=\"submit\" label=\"Küldés\" loading={loading}\n                         className = {classes.element}/>\n                  <a className={classes.link} onClick={()=>{setForgotPass(0)}}>\n                    vissza a bejelentkezéshez\n                  </a>\n                  </div>\n          </Form>}\n          <WebshopPicture className={classes.picture} picture={{webPUrl: '/logo_kicsik_nagyok.png', jpegOrPngUrl: '/logo_kicsik_nagyok.png', alt: 'login', title: 'login'}}/>\n      </div>;\n}","import React, { useState } from \"react\";\nimport { Button, Divider, Link, makeStyles, Snackbar, TextField } from '@material-ui/core';\nimport Form from './form/form';\nimport * as Yup from 'yup';\nimport Field from './form/field';\nimport { LabelType, MyTextInput } from \"./mytext-input\";\nimport { MyButton } from \"./mybutton\";\nimport { useLoginOtt } from \"./user-hooks/user-hooks\";\nimport { useSnackbar } from 'notistack';\nimport { WebshopPicture } from \"./picture-component\";\nimport {useRouter} from 'next/router';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%',\n    padding: '30px 60px',\n    borderRadius: '30px',\n    color: theme.palette.secondary.contrastText,\n    marginTop: '-120px',\n    overflow: 'hidden',\n    backgroundColor: '#fff',\n    maxWidth: '700px',\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    [theme.breakpoints.down(700)]: {\n        marginLeft: '7px',\n        marginRight: '7px',\n        width: 'calc(100% - 14px)',\n    },\n    [theme.breakpoints.down(1000)]: {\n        marginTop: '-5px',\n    }\n  },\n  formDiv: {\n    width: 'calc(100% - 20px)',\n    display: 'flex',\n    marginLeft: '10px',\n    flexFlow: 'column',\n    marginRight: '10px',\n    flexWrap: 'wrap',\n    alignItems: 'center',\n    paddingBottom: '10px',\n  },\n  element: {\n    width: '100%',\n    marginBottom: '20px',\n  },\n  picture: {\n    width: '550px',\n    position: 'relative',\n    zIndex: 1,\n    marginLeft: '55%',\n    marginTop: '-200px'\n  },\n  link: {\n    alignSelf: 'start',\n    color: '#3B2E2E',\n    cursor: 'pointer',\n    textDecoration: 'underline',\n    ['&:hover']:{\n      color: '#707070'\n    }\n  }\n}))\nexport interface Props{\n  token: string,\n}\n\nexport const OneTimeTokenLogin = (props: Props) => {\nconst [loading, setLoading] = useState(false);\nconst { enqueueSnackbar } = useSnackbar();\nconst classes = useStyles();\nconst login= useLoginOtt();\nconst goToFront = async ()=>{\n  window.location.href = '/';\n}\nreturn <div className={classes.root} style={{maxHeight: '400px'}}>\n  <Form style={{position: \"relative\", zIndex: 2}} initialValues={{email:'', password: ''}} validationSchema={Yup.object().shape({\n            email: Yup.string()\n            .email('Érvénytelen email formátum')\n            .required('E-mail kitöltése kötelező'),\n          })}\n                  onSubmit={async (values) => {\n                    setLoading(true);\n                    const res = await login(values.email, props.token);\n                    if(res){\n                      enqueueSnackbar(res, { variant: 'error' });\n                    }\n                    else {\n                      window.location.href = '/';\n                      //await Router.push(`/`, undefined, { shallow: true });\n                    }\n                    setLoading(false);\n                  }}>\n                  <div className={classes.formDiv}>\n                  <Field name=\"email\"\n                         type=\"text\"\n                         component={MyTextInput}\n                         label=\"E-mail\"\n                         otherProps = {{labelWhere: LabelType.Above}}\n                         className = {classes.element}\n                  />\n                  <MyButton type=\"submit\" label=\"Belépés\" loading={loading}\n                         className = {classes.element}/>\n                         <a className={classes.link} onClick={()=>{goToFront()}}>\n                          vissza a bejelentkezéshez\n                         </a>\n                  </div>\n          </Form>\n          <WebshopPicture className={classes.picture} picture={{webPUrl: '/logo_kicsik_nagyok.png', jpegOrPngUrl: '/logo_kicsik_nagyok.png', alt: 'login', title: 'login'}}/>\n      </div>;\n}","import React, { useEffect, useState } from 'react';\nimport './App.css';\nimport { getCategory, getCurrentExercise, getTeam } from './basicElements/backend-calls';\nimport { Category, Exercise, Team } from './basicElements/backend-types';\nimport { Excercise } from './basicElements/Excercise';\nimport { Infos } from './basicElements/infos';\nimport { Layout } from './basicElements/layout';\nimport { Login } from './basicElements/login';\nimport { LoadUserOnClientSide } from './basicElements/user-hooks/user-atom';\n//import Latex as Latex from 'react-latex';\nimport { useAuthHeader, useCurrentUser } from './basicElements/user-hooks/user-hooks';\nimport { OneTimeTokenLogin } from './basicElements/ott-login';\nimport { \n  useLocation,\n} from \"react-router-dom\";\nimport moment from 'moment';\n\nfunction Main() {\n  const [info, setInfo] = useState(true);\n  const [team, setTeam] = useState({ uuid: '', email: '', name: '' } as Team);\n  const [exercise, setExercise] = useState({} as Exercise); //{uuid: 'dsaads', sequence_number: 0, category_ord: 0, category_uuid: '', description:'dasdads asdads', title:'dasasd', max_points: 3}\n  const [category, setCategory] = useState({} as Category);\n  const tokenGetter= new URLSearchParams(useLocation().search);\n  const token = tokenGetter.get(\"one-time-auth\")\n  const authHeader = useAuthHeader();\n  const user = useCurrentUser();\n  useEffect(() => {\n    if (user) {\n      getTeam(authHeader).then(team => {\n        if(team!==null)\n          setTeam(team)\n      });\n      getCategory(authHeader, user.categoryUuid).then(cat => {\n        if(cat!==null)\n          setCategory(cat)\n      });\n      getCurrentExercise(authHeader).then(exc => {\n        if(exc!==null)\n          setExercise(exc);\n      });\n    }\n  }, [user]);\n  if(token){\n    return (\n      <Layout>\n        <OneTimeTokenLogin token = {token}/>\n      </Layout>\n    )\n  }\n  return (\n    <Layout>\n      <LoadUserOnClientSide/>\n      {!user && <Login />}\n      {user && info && <Infos exercise={exercise} setExercise={setExercise} teamFinished={category.starts_at?.isBefore(moment.now())} teamInProgress={exercise?.category_ord > 0} setInfo={setInfo} teamName={team.name} categoryName={category.name} categoryEnd={category.ends_at} categoryStart={category.starts_at}/>}\n      {user && !info && <Excercise auth={authHeader} exercise={exercise} endsAt={category?.ends_at} teamName={team.name} setInfo={setInfo}/>}\n    </Layout>\n  );\n}\n\nexport default Main;\n","import React from 'react';\nimport './App.css';\nimport { RecoilRoot } from 'recoil';\nimport Main from './Main';\nimport { \n  BrowserRouter,\n  Route,\n  Switch\n} from \"react-router-dom\";\nimport { OneTimeTokenLogin } from './basicElements/ott-login';\nimport { Layout } from './basicElements/layout';\n\nfunction App() {\n  return (\n    <RecoilRoot>\n      <BrowserRouter>\n        <Route path=\"/\" component = {Main} />\n       </BrowserRouter>\n    </RecoilRoot>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}